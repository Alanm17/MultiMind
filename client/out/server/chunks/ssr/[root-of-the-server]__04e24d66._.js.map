{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/aziz/Downloads/same-dev-platform%203/client/src/lib/utils.ts"],"sourcesContent":["import { type ClassValue, clsx } from \"clsx\";\nimport { twMerge } from \"tailwind-merge\";\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,CAAA,GAAA,2JAAA,CAAA,UAAO,AAAD,EAAE,CAAA,GAAA,qIAAA,CAAA,OAAI,AAAD,EAAE;AACtB","debugId":null}},
    {"offset": {"line": 23, "column": 0}, "map": {"version":3,"sources":["file:///Users/aziz/Downloads/same-dev-platform%203/client/src/components/ui/button.tsx"],"sourcesContent":["import { Slot } from \"@radix-ui/react-slot\";\nimport { type VariantProps, cva } from \"class-variance-authority\";\nimport * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-primary text-primary-foreground shadow hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2\",\n        sm: \"h-8 rounded-md px-3 text-xs\",\n        lg: \"h-10 rounded-md px-8\",\n        icon: \"h-9 w-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  },\n);\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean;\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\";\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    );\n  },\n);\nButton.displayName = \"Button\";\n\nexport { Button, buttonVariants };\n"],"names":[],"mappings":";;;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,iBAAiB,CAAA,GAAA,gKAAA,CAAA,MAAG,AAAD,EACvB,ySACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,aACE;YACF,SACE;YACF,WACE;YACF,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAC5B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,gKAAA,CAAA,OAAI,GAAG;IAC9B,qBACE,gMAAC;QACC,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,OAAO,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 84, "column": 0}, "map": {"version":3,"sources":["file:///Users/aziz/Downloads/same-dev-platform%203/client/src/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className,\n        )}\n        ref={ref}\n        {...props}\n      />\n    );\n  },\n);\nInput.displayName = \"Input\";\n\nexport { Input };\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAEA,MAAM,sBAAQ,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAC3B,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IAC9B,qBACE,gMAAC;QACC,MAAM;QACN,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,2WACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,MAAM,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 114, "column": 0}, "map": {"version":3,"sources":["file:///Users/aziz/Downloads/same-dev-platform%203/client/src/components/ui/scroll-area.tsx"],"sourcesContent":["\"use client\";\n\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\";\nimport * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn(\"relative overflow-hidden\", className)}\n    {...props}\n  >\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n));\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName;\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" &&\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" &&\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className,\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n));\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName;\n\nexport { ScrollArea, ScrollBar };\n"],"names":[],"mappings":";;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,2BAAa,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGhC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,gMAAC,0KAAA,CAAA,OAAwB;QACvB,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,4BAA4B;QACzC,GAAG,KAAK;;0BAET,gMAAC,0KAAA,CAAA,WAA4B;gBAAC,WAAU;0BACrC;;;;;;0BAEH,gMAAC;;;;;0BACD,gMAAC,0KAAA,CAAA,SAA0B;;;;;;;;;;;AAG/B,WAAW,WAAW,GAAG,0KAAA,CAAA,OAAwB,CAAC,WAAW;AAE7D,MAAM,0BAAY,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAG/B,CAAC,EAAE,SAAS,EAAE,cAAc,UAAU,EAAE,GAAG,OAAO,EAAE,oBACpD,gMAAC,0KAAA,CAAA,sBAAuC;QACtC,KAAK;QACL,aAAa;QACb,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,iDACA,gBAAgB,cACd,sDACF,gBAAgB,gBACd,wDACF;QAED,GAAG,KAAK;kBAET,cAAA,gMAAC,0KAAA,CAAA,kBAAmC;YAAC,WAAU;;;;;;;;;;;AAGnD,UAAU,WAAW,GAAG,0KAAA,CAAA,sBAAuC,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 183, "column": 0}, "map": {"version":3,"sources":["file:///Users/aziz/Downloads/same-dev-platform%203/client/src/components/ui/spinner.tsx"],"sourcesContent":["import React from \"react\";\n\nexport function Spinner({\n  size = 24,\n  className = \"\",\n}: {\n  size?: number;\n  className?: string;\n}) {\n  return (\n    <svg\n      className={`animate-spin text-gray-400 ${className}`}\n      width={size}\n      height={size}\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      aria-label=\"Loading\"\n    >\n      <circle\n        className=\"opacity-25\"\n        cx=\"12\"\n        cy=\"12\"\n        r=\"10\"\n        stroke=\"currentColor\"\n        strokeWidth=\"4\"\n      />\n      <path\n        className=\"opacity-75\"\n        fill=\"currentColor\"\n        d=\"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z\"\n      />\n    </svg>\n  );\n}\n"],"names":[],"mappings":";;;;;;AAEO,SAAS,QAAQ,EACtB,OAAO,EAAE,EACT,YAAY,EAAE,EAIf;IACC,qBACE,gMAAC;QACC,WAAW,CAAC,2BAA2B,EAAE,WAAW;QACpD,OAAO;QACP,QAAQ;QACR,SAAQ;QACR,MAAK;QACL,OAAM;QACN,cAAW;;0BAEX,gMAAC;gBACC,WAAU;gBACV,IAAG;gBACH,IAAG;gBACH,GAAE;gBACF,QAAO;gBACP,aAAY;;;;;;0BAEd,gMAAC;gBACC,WAAU;gBACV,MAAK;gBACL,GAAE;;;;;;;;;;;;AAIV","debugId":null}},
    {"offset": {"line": 233, "column": 0}, "map": {"version":3,"sources":["file:///Users/aziz/Downloads/same-dev-platform%203/client/src/lib/api.ts"],"sourcesContent":["// Centralized API utility for all backend requests\n// Usage: apiRequest(endpoint, { method, body, protected: true })\n\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || \"http://localhost:4000\";\n\nexport async function apiRequest(\n  endpoint: string,\n  {\n    method = \"GET\",\n    body,\n    protected: isProtected = false,\n    headers = {},\n  }: {\n    method?: string;\n    body?: unknown;\n    protected?: boolean;\n    headers?: Record<string, string>;\n  } = {}\n) {\n  const token = isProtected ? localStorage.getItem(\"token\") : null;\n  const allHeaders: Record<string, string> = {\n    \"Content-Type\": \"application/json\",\n    ...headers,\n  };\n  if (isProtected && token) {\n    allHeaders[\"Authorization\"] = `Bearer ${token}`;\n  }\n  const res = await fetch(`${API_BASE_URL}${endpoint}`, {\n    method,\n    headers: allHeaders,\n    body: body ? JSON.stringify(body) : undefined,\n  });\n  let data;\n  try {\n    data = await res.json();\n  } catch (e) {\n    data = undefined;\n  }\n  if (!res.ok) {\n    throw data || { error: \"Unknown error\" };\n  }\n  return data;\n}\n"],"names":[],"mappings":"AAAA,mDAAmD;AACnD,iEAAiE;;;;AAEjE,MAAM,eAAe,QAAQ,GAAG,CAAC,mBAAmB,IAAI;AAEjD,eAAe,WACpB,QAAgB,EAChB,EACE,SAAS,KAAK,EACd,IAAI,EACJ,WAAW,cAAc,KAAK,EAC9B,UAAU,CAAC,CAAC,EAMb,GAAG,CAAC,CAAC;IAEN,MAAM,QAAQ,cAAc,aAAa,OAAO,CAAC,WAAW;IAC5D,MAAM,aAAqC;QACzC,gBAAgB;QAChB,GAAG,OAAO;IACZ;IACA,IAAI,eAAe,OAAO;QACxB,UAAU,CAAC,gBAAgB,GAAG,CAAC,OAAO,EAAE,OAAO;IACjD;IACA,MAAM,MAAM,MAAM,MAAM,GAAG,eAAe,UAAU,EAAE;QACpD;QACA,SAAS;QACT,MAAM,OAAO,KAAK,SAAS,CAAC,QAAQ;IACtC;IACA,IAAI;IACJ,IAAI;QACF,OAAO,MAAM,IAAI,IAAI;IACvB,EAAE,OAAO,GAAG;QACV,OAAO;IACT;IACA,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,MAAM,QAAQ;YAAE,OAAO;QAAgB;IACzC;IACA,OAAO;AACT","debugId":null}},
    {"offset": {"line": 272, "column": 0}, "map": {"version":3,"sources":["file:///Users/aziz/Downloads/same-dev-platform%203/client/src/services/chatService.ts"],"sourcesContent":["import { apiRequest } from \"../lib/api\";\n\n// ------------ Types ------------\nexport interface ChatRequest {\n  chatId: string;\n  message: string;\n  activeAgents: string[];\n  projectId: string;\n}\n\nexport interface ChatResponse {\n  success: boolean;\n  messages: Array<{\n    agentName: string;\n    content: string;\n  }>;\n  files: Array<{\n    filePath: string;\n    content: string;\n    agent: string;\n  }>;\n  metadata: {\n    chatId: string;\n    projectId: string;\n    generatedFiles: number;\n  };\n}\n\nexport interface ApiError {\n  error: string;\n  message?: string;\n}\n\nexport interface WorkflowRequest {\n  chatId: string;\n  message: string;\n  projectId: string;\n  context?: Array<{ path: string; content: string; language: string }>;\n}\n\n// ------------ Helper ------------\nexport function getActiveAgentNames(\n  agents: { id: string; name: string; isActive: boolean }[]\n): string[] {\n  return agents.filter((a) => a.isActive).map((a) => a.name);\n}\n\n// Helper to generate a canonical agent id from the agent name\nfunction getAgentIdFromName(name: string): string {\n  // Remove 'Agent' suffix, lowercase, replace spaces and special chars with '-'\n  return name\n    .replace(/\\s*Agent$/i, \"\")\n    .toLowerCase()\n    .replace(/[^a-z0-9]+/g, \"-\")\n    .replace(/^-+|-+$/g, \"\");\n}\n\ntype BackendAgent = {\n  name: string;\n  model: string;\n  systemMessage: string;\n  capabilities: string[];\n  maxTokens: number;\n};\n\n// Mapping from full agent name to backend ID (camelCase)\nconst AGENT_NAME_TO_ID: Record<string, string> = {\n  \"Product Manager Agent\": \"productManager\",\n  \"Database Designer Agent\": \"databaseDesigner\",\n  \"Coder Agent\": \"coder\",\n  \"API Designer Agent\": \"apiDesigner\",\n  \"Tester Agent\": \"tester\",\n  \"Security Agent\": \"security\",\n  \"Performance Agent\": \"performance\",\n  \"Compliance Agent\": \"compliance\",\n  \"UX Agent\": \"ux\",\n  \"Reviewer Agent\": \"reviewer\",\n  \"File Manager Agent\": \"fileManager\",\n  \"Documenter Agent\": \"documenter\",\n  \"DevOps Agent\": \"devOps\",\n};\n\n// ------------ Chat Service ------------\nexport const ChatService = {\n  async sendMessage(request: ChatRequest): Promise<ChatResponse> {\n    return apiRequest(\"/api/chat\", {\n      method: \"POST\",\n      body: request,\n      protected: true,\n    });\n  },\n\n  async getAvailableAgents() {\n    const data = await apiRequest(\"/api/agents\", {});\n    // Adapt backend agents to include id and isActive for frontend\n    return Array.isArray(data.agents)\n      ? data.agents.map((agent: BackendAgent) => ({\n          ...agent,\n          id: AGENT_NAME_TO_ID[agent.name] || agent.name, // Use mapping or fallback to name\n          isActive: false, // Default to not active\n        }))\n      : [];\n  },\n\n  async healthCheck() {\n    try {\n      await apiRequest(\"/api/health\", {});\n      return true;\n    } catch {\n      return false;\n    }\n  },\n\n  async sendWorkflowMessage({\n    chatId,\n    message,\n    projectId,\n    context,\n  }: WorkflowRequest) {\n    return apiRequest(\"/api/chat/workflow\", {\n      method: \"POST\",\n      body: { chatId, message, projectId, context },\n      protected: true,\n    });\n  },\n\n  async sendMessageStream(payload: {\n    chatId: string;\n    projectId: string;\n    message: string;\n    activeAgents: string[];\n  }) {\n    const token = localStorage.getItem(\"token\");\n    const res = await fetch(\n      `${\n        process.env.NEXT_PUBLIC_API_URL || \"http://localhost:4000\"\n      }/api/chat/stream`,\n      {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          ...(token ? { Authorization: `Bearer ${token}` } : {}),\n        },\n        body: JSON.stringify(payload),\n      }\n    );\n    if (!res.body) throw new Error(\"No response body\");\n    return res.body;\n  },\n};\n"],"names":[],"mappings":";;;;AAAA;;AAyCO,SAAS,oBACd,MAAyD;IAEzD,OAAO,OAAO,MAAM,CAAC,CAAC,IAAM,EAAE,QAAQ,EAAE,GAAG,CAAC,CAAC,IAAM,EAAE,IAAI;AAC3D;AAEA,8DAA8D;AAC9D,SAAS,mBAAmB,IAAY;IACtC,8EAA8E;IAC9E,OAAO,KACJ,OAAO,CAAC,cAAc,IACtB,WAAW,GACX,OAAO,CAAC,eAAe,KACvB,OAAO,CAAC,YAAY;AACzB;AAUA,yDAAyD;AACzD,MAAM,mBAA2C;IAC/C,yBAAyB;IACzB,2BAA2B;IAC3B,eAAe;IACf,sBAAsB;IACtB,gBAAgB;IAChB,kBAAkB;IAClB,qBAAqB;IACrB,oBAAoB;IACpB,YAAY;IACZ,kBAAkB;IAClB,sBAAsB;IACtB,oBAAoB;IACpB,gBAAgB;AAClB;AAGO,MAAM,cAAc;IACzB,MAAM,aAAY,OAAoB;QACpC,OAAO,CAAA,GAAA,iHAAA,CAAA,aAAU,AAAD,EAAE,aAAa;YAC7B,QAAQ;YACR,MAAM;YACN,WAAW;QACb;IACF;IAEA,MAAM;QACJ,MAAM,OAAO,MAAM,CAAA,GAAA,iHAAA,CAAA,aAAU,AAAD,EAAE,eAAe,CAAC;QAC9C,+DAA+D;QAC/D,OAAO,MAAM,OAAO,CAAC,KAAK,MAAM,IAC5B,KAAK,MAAM,CAAC,GAAG,CAAC,CAAC,QAAwB,CAAC;gBACxC,GAAG,KAAK;gBACR,IAAI,gBAAgB,CAAC,MAAM,IAAI,CAAC,IAAI,MAAM,IAAI;gBAC9C,UAAU;YACZ,CAAC,KACD,EAAE;IACR;IAEA,MAAM;QACJ,IAAI;YACF,MAAM,CAAA,GAAA,iHAAA,CAAA,aAAU,AAAD,EAAE,eAAe,CAAC;YACjC,OAAO;QACT,EAAE,OAAM;YACN,OAAO;QACT;IACF;IAEA,MAAM,qBAAoB,EACxB,MAAM,EACN,OAAO,EACP,SAAS,EACT,OAAO,EACS;QAChB,OAAO,CAAA,GAAA,iHAAA,CAAA,aAAU,AAAD,EAAE,sBAAsB;YACtC,QAAQ;YACR,MAAM;gBAAE;gBAAQ;gBAAS;gBAAW;YAAQ;YAC5C,WAAW;QACb;IACF;IAEA,MAAM,mBAAkB,OAKvB;QACC,MAAM,QAAQ,aAAa,OAAO,CAAC;QACnC,MAAM,MAAM,MAAM,MAChB,GACE,QAAQ,GAAG,CAAC,mBAAmB,IAAI,wBACpC,gBAAgB,CAAC,EAClB;YACE,QAAQ;YACR,SAAS;gBACP,gBAAgB;gBAChB,GAAI,QAAQ;oBAAE,eAAe,CAAC,OAAO,EAAE,OAAO;gBAAC,IAAI,CAAC,CAAC;YACvD;YACA,MAAM,KAAK,SAAS,CAAC;QACvB;QAEF,IAAI,CAAC,IAAI,IAAI,EAAE,MAAM,IAAI,MAAM;QAC/B,OAAO,IAAI,IAAI;IACjB;AACF","debugId":null}},
    {"offset": {"line": 361, "column": 0}, "map": {"version":3,"sources":["file:///Users/aziz/Downloads/same-dev-platform%203/client/src/services/fileService.ts"],"sourcesContent":["import { apiRequest } from \"../lib/api\";\n\nexport const FileService = {\n  async getFiles(projectId: string) {\n    return apiRequest(`/api/files/${projectId}/tree`, { protected: true });\n  },\n\n  async uploadFile(\n    projectId: string,\n    file: { filePath: string; content: string }\n  ) {\n    return apiRequest(`/api/files/${projectId}/file`, {\n      method: \"POST\",\n      body: file,\n      protected: true,\n    });\n  },\n\n  async deleteFile(projectId: string, filePath: string) {\n    return apiRequest(`/api/files/${projectId}/file`, {\n      method: \"DELETE\",\n      body: { path: filePath },\n      protected: true,\n    });\n  },\n};\n"],"names":[],"mappings":";;;AAAA;;AAEO,MAAM,cAAc;IACzB,MAAM,UAAS,SAAiB;QAC9B,OAAO,CAAA,GAAA,iHAAA,CAAA,aAAU,AAAD,EAAE,CAAC,WAAW,EAAE,UAAU,KAAK,CAAC,EAAE;YAAE,WAAW;QAAK;IACtE;IAEA,MAAM,YACJ,SAAiB,EACjB,IAA2C;QAE3C,OAAO,CAAA,GAAA,iHAAA,CAAA,aAAU,AAAD,EAAE,CAAC,WAAW,EAAE,UAAU,KAAK,CAAC,EAAE;YAChD,QAAQ;YACR,MAAM;YACN,WAAW;QACb;IACF;IAEA,MAAM,YAAW,SAAiB,EAAE,QAAgB;QAClD,OAAO,CAAA,GAAA,iHAAA,CAAA,aAAU,AAAD,EAAE,CAAC,WAAW,EAAE,UAAU,KAAK,CAAC,EAAE;YAChD,QAAQ;YACR,MAAM;gBAAE,MAAM;YAAS;YACvB,WAAW;QACb;IACF;AACF","debugId":null}},
    {"offset": {"line": 395, "column": 0}, "map": {"version":3,"sources":["file:///Users/aziz/Downloads/same-dev-platform%203/client/src/services/historyService.ts"],"sourcesContent":["import { apiRequest } from \"../lib/api\";\n\nexport const HistoryService = {\n  async getSessions(projectId: string) {\n    return apiRequest(`/api/sessions?projectId=${projectId}`, {\n      protected: true,\n    });\n  },\n\n  async getMessages(chatId: string) {\n    return apiRequest(`/api/sessions/${chatId}/messages`, { protected: true });\n  },\n\n  async createSession(data: { projectId: string; name: string }) {\n    return apiRequest(\"/api/sessions\", {\n      method: \"POST\",\n      body: data,\n      protected: true,\n    });\n  },\n\n  async deleteSession(sessionId: string) {\n    return apiRequest(`/api/sessions/${sessionId}`, {\n      method: \"DELETE\",\n      protected: true,\n    });\n  },\n\n  async renameSession(sessionId: string, name: string) {\n    return apiRequest(`/api/sessions/${sessionId}/rename`, {\n      method: \"POST\",\n      body: { name },\n      protected: true,\n    });\n  },\n\n  async addMessage(\n    sessionId: string,\n    message: { sender: string; content: string; agentName?: string }\n  ) {\n    return apiRequest(`/api/sessions/${sessionId}/messages`, {\n      method: \"POST\",\n      body: message,\n      protected: true,\n    });\n  },\n};\n"],"names":[],"mappings":";;;AAAA;;AAEO,MAAM,iBAAiB;IAC5B,MAAM,aAAY,SAAiB;QACjC,OAAO,CAAA,GAAA,iHAAA,CAAA,aAAU,AAAD,EAAE,CAAC,wBAAwB,EAAE,WAAW,EAAE;YACxD,WAAW;QACb;IACF;IAEA,MAAM,aAAY,MAAc;QAC9B,OAAO,CAAA,GAAA,iHAAA,CAAA,aAAU,AAAD,EAAE,CAAC,cAAc,EAAE,OAAO,SAAS,CAAC,EAAE;YAAE,WAAW;QAAK;IAC1E;IAEA,MAAM,eAAc,IAAyC;QAC3D,OAAO,CAAA,GAAA,iHAAA,CAAA,aAAU,AAAD,EAAE,iBAAiB;YACjC,QAAQ;YACR,MAAM;YACN,WAAW;QACb;IACF;IAEA,MAAM,eAAc,SAAiB;QACnC,OAAO,CAAA,GAAA,iHAAA,CAAA,aAAU,AAAD,EAAE,CAAC,cAAc,EAAE,WAAW,EAAE;YAC9C,QAAQ;YACR,WAAW;QACb;IACF;IAEA,MAAM,eAAc,SAAiB,EAAE,IAAY;QACjD,OAAO,CAAA,GAAA,iHAAA,CAAA,aAAU,AAAD,EAAE,CAAC,cAAc,EAAE,UAAU,OAAO,CAAC,EAAE;YACrD,QAAQ;YACR,MAAM;gBAAE;YAAK;YACb,WAAW;QACb;IACF;IAEA,MAAM,YACJ,SAAiB,EACjB,OAAgE;QAEhE,OAAO,CAAA,GAAA,iHAAA,CAAA,aAAU,AAAD,EAAE,CAAC,cAAc,EAAE,UAAU,SAAS,CAAC,EAAE;YACvD,QAAQ;YACR,MAAM;YACN,WAAW;QACb;IACF;AACF","debugId":null}},
    {"offset": {"line": 447, "column": 0}, "map": {"version":3,"sources":["file:///Users/aziz/Downloads/same-dev-platform%203/client/src/services/memoryService.ts"],"sourcesContent":["import { apiRequest } from \"../lib/api\";\n\nexport const MemoryService = {\n  async getMemory(chatId: string) {\n    return apiRequest(`/api/memory/${chatId}`, { protected: true });\n  },\n\n  async updateMemory(chatId: string, summary: string) {\n    return apiRequest(`/api/memory/${chatId}`, {\n      method: \"POST\",\n      body: { summary },\n      protected: true,\n    });\n  },\n};\n"],"names":[],"mappings":";;;AAAA;;AAEO,MAAM,gBAAgB;IAC3B,MAAM,WAAU,MAAc;QAC5B,OAAO,CAAA,GAAA,iHAAA,CAAA,aAAU,AAAD,EAAE,CAAC,YAAY,EAAE,QAAQ,EAAE;YAAE,WAAW;QAAK;IAC/D;IAEA,MAAM,cAAa,MAAc,EAAE,OAAe;QAChD,OAAO,CAAA,GAAA,iHAAA,CAAA,aAAU,AAAD,EAAE,CAAC,YAAY,EAAE,QAAQ,EAAE;YACzC,QAAQ;YACR,MAAM;gBAAE;YAAQ;YAChB,WAAW;QACb;IACF;AACF","debugId":null}},
    {"offset": {"line": 474, "column": 0}, "map": {"version":3,"sources":["file:///Users/aziz/Downloads/same-dev-platform%203/client/src/services/projectService.ts"],"sourcesContent":["import { apiRequest } from \"../lib/api\";\n\nexport const ProjectService = {\n  async getProject(projectId: string) {\n    return apiRequest(`/api/projects/${projectId}`, { protected: true });\n  },\n  async getProjects() {\n    const data = await apiRequest(\"/api/projects\", { protected: true });\n    return data.projects;\n  },\n  async createProject(name: string) {\n    const data = await apiRequest(\"/api/projects\", {\n      method: \"POST\",\n      body: { name },\n      protected: true,\n    });\n    return data.project;\n  },\n};\n"],"names":[],"mappings":";;;AAAA;;AAEO,MAAM,iBAAiB;IAC5B,MAAM,YAAW,SAAiB;QAChC,OAAO,CAAA,GAAA,iHAAA,CAAA,aAAU,AAAD,EAAE,CAAC,cAAc,EAAE,WAAW,EAAE;YAAE,WAAW;QAAK;IACpE;IACA,MAAM;QACJ,MAAM,OAAO,MAAM,CAAA,GAAA,iHAAA,CAAA,aAAU,AAAD,EAAE,iBAAiB;YAAE,WAAW;QAAK;QACjE,OAAO,KAAK,QAAQ;IACtB;IACA,MAAM,eAAc,IAAY;QAC9B,MAAM,OAAO,MAAM,CAAA,GAAA,iHAAA,CAAA,aAAU,AAAD,EAAE,iBAAiB;YAC7C,QAAQ;YACR,MAAM;gBAAE;YAAK;YACb,WAAW;QACb;QACA,OAAO,KAAK,OAAO;IACrB;AACF","debugId":null}},
    {"offset": {"line": 508, "column": 0}, "map": {"version":3,"sources":["file:///Users/aziz/Downloads/same-dev-platform%203/client/src/store/useProjectStore.ts"],"sourcesContent":["import { ChatService, getActiveAgentNames } from \"@/services/chatService\";\nimport { FileService } from \"@/services/fileService\";\nimport { HistoryService } from \"@/services/historyService\";\nimport { MemoryService } from \"@/services/memoryService\";\nimport { ProjectService } from \"@/services/projectService\";\nimport type {\n  Agent,\n  ChatMessage,\n  ChatSession,\n  FileNode,\n  ProjectState,\n  RightPanelMode,\n  Tab,\n  TerminalLog,\n} from \"@/types\";\nimport { toast } from \"sonner\";\nimport { create } from \"zustand\";\n\n// Helper functions\nfunction getLanguageFromPath(filePath: string): string {\n  const ext = filePath.split(\".\").pop()?.toLowerCase();\n  const map: Record<string, string> = {\n    tsx: \"typescript\",\n    ts: \"typescript\",\n    jsx: \"javascript\",\n    js: \"javascript\",\n    json: \"json\",\n    css: \"css\",\n    html: \"html\",\n    yml: \"yaml\",\n    md: \"markdown\",\n    sh: \"bash\",\n  };\n  return map[ext || \"\"] || \"text\";\n}\n\nfunction convertFilesToFileTree(files: FileNode[]): FileNode[] {\n  const tree: FileNode[] = [];\n  const pathMap = new Map<string, FileNode>();\n  for (const file of files) {\n    const parts = file.path.split(\"/\");\n    let current = tree;\n    let fullPath = \"\";\n\n    parts.forEach((part, index) => {\n      fullPath = fullPath ? `${fullPath}/${part}` : part;\n      const isFile = index === parts.length - 1;\n      const existing = current.find((f) => f.name === part);\n      if (existing) {\n        if (isFile) {\n          // Overwrite file node if duplicate path\n          if (pathMap.has(fullPath)) {\n            console.warn(\n              `Duplicate file path detected: ${fullPath}. Overwriting previous node.`\n            );\n            Object.assign(existing, {\n              id: file.id || existing.id,\n              name: part,\n              type: \"file\",\n              path: fullPath,\n              language: getLanguageFromPath(part),\n              content: file.content,\n            });\n          }\n        } else if (existing.children) {\n          current = existing.children;\n        }\n      } else {\n        const newNode: FileNode = {\n          id: file.id || Math.random().toString(36).substring(7),\n          name: part,\n          type: isFile ? \"file\" : \"folder\",\n          path: fullPath,\n          language: isFile ? getLanguageFromPath(part) : undefined,\n          content: isFile ? file.content : undefined,\n          isOpen: false,\n          children: isFile ? undefined : [],\n        };\n        current.push(newNode);\n        if (isFile) {\n          pathMap.set(fullPath, newNode);\n        } else if (newNode.children) {\n          current = newNode.children;\n        }\n      }\n    });\n  }\n  return tree;\n}\n\n// Define the ProjectStore type for Zustand\nexport interface ProjectStore {\n  chatSessions: ChatSession[];\n  activeChatId: string | null;\n  memorySummary: unknown; // TODO: Replace 'unknown' with a specific type if available\n  project: ProjectState | null;\n  fileTree: FileNode[];\n  openTabs: Tab[];\n  activeTabId: string | null;\n  isLoading: boolean;\n  error: string | null;\n  isTyping: boolean;\n  availableAgents: Agent[];\n  activeAgents: Agent[];\n  isChatHistoryOpen: boolean;\n  terminalLogs: TerminalLog[];\n  isTerminalVisible: boolean;\n  rightPanelMode: RightPanelMode;\n  isFileTreeCollapsed: boolean;\n  theme: string;\n  activeArea: string | null;\n  loadProject: (projectId: string) => Promise<void>;\n  loadFiles: (projectId: string) => Promise<void>;\n  uploadFile: (file: { filePath: string; content: string }) => Promise<unknown>; // TODO: Replace 'unknown' with a specific type if available\n  deleteFile: (fileId: number) => Promise<void>;\n  openFile: (file: FileNode) => void;\n  closeTab: (tabId: string) => void;\n  updateTabContent: (tabId: string, content: string) => void;\n  loadChatSessions: (projectId: string) => Promise<void>;\n  loadMessagesForSession: (sessionId: string) => Promise<void>;\n  sendChatMessage: (message: string) => Promise<void>;\n  createNewChatSession: (name: string) => Promise<void>;\n  deleteChatSession: (sessionId: string) => Promise<void>;\n  renameChatSession: (sessionId: string, name: string) => Promise<void>;\n  loadMemory: (sessionId: string) => Promise<void>;\n  updateMemory: (sessionId: string, summary: string) => Promise<void>;\n  toggleAgent: (agentId: string) => void;\n  addTerminalLog: (log: Omit<TerminalLog, \"id\" | \"timestamp\">) => void;\n  toggleChatHistory: () => void;\n  switchToChatSession: (sessionId: string) => void;\n  addMessageToActiveChat: (message: ChatMessage) => void;\n  setIsTyping: (isTyping: boolean) => void;\n  clearMessages: () => void;\n  deleteMessageFromActiveChat: (messageId: string) => void;\n  setActiveArea: (area: string | null) => void;\n  setActiveTab: (tabId: string) => void;\n  toggleTheme: () => void;\n  toggleFileTree: () => void;\n  setRightPanelMode: (mode: RightPanelMode) => void;\n  clearTerminalLogs: () => void;\n  fetchProjects: () => Promise<ProjectState[]>;\n  createNewProject: (name: string) => Promise<void>;\n}\n\nexport const useProjectStore = create<ProjectStore>((set, get) => ({\n  // ðŸ”¥ State\n  chatSessions: [],\n  activeChatId: null,\n  memorySummary: null,\n\n  project: null,\n  fileTree: [],\n  openTabs: [],\n  activeTabId: null,\n\n  isLoading: false,\n  error: null,\n  isTyping: false,\n\n  availableAgents: [],\n  activeAgents: [],\n  isChatHistoryOpen: false,\n\n  terminalLogs: [],\n  isTerminalVisible: false,\n\n  rightPanelMode: \"app\",\n  isFileTreeCollapsed: false,\n  theme: \"light\",\n\n  activeArea: null, // \"terminal\" | \"editor\" | \"files\" | \"preview\" | null\n\n  // ðŸ”¥ Project Actions\n  loadProject: async (projectId: string) => {\n    try {\n      const project = await ProjectService.getProject(projectId);\n      const agents = await ChatService.getAvailableAgents();\n      set({ project, activeAgents: agents, availableAgents: agents });\n    } catch (err) {\n      console.error(err);\n      set({ error: \"Failed to load project\" });\n    }\n  },\n\n  // ðŸ”¥ File Actions\n  loadFiles: async (projectId: string) => {\n    const files = await FileService.getFiles(projectId);\n    const tree = convertFilesToFileTree(files);\n    set({ fileTree: tree });\n  },\n\n  uploadFile: async (file: { filePath: string; content: string }) => {\n    const projectId = get().project?.id;\n    if (!projectId) return;\n    try {\n      const savedFile = await FileService.uploadFile(projectId, file);\n      await get().loadFiles(projectId);\n      toast.success(`File uploaded: ${file.filePath}`);\n      return savedFile;\n    } catch (err) {\n      toast.error(`Failed to upload file: ${file.filePath}`);\n      throw err;\n    }\n  },\n\n  deleteFile: async (fileId: number) => {\n    try {\n      const projectId = get().project?.id;\n      if (!projectId) throw new Error(\"No project selected\");\n      await FileService.deleteFile(projectId, String(fileId));\n      await get().loadFiles(projectId);\n      toast.success(\"File deleted\");\n    } catch (err) {\n      toast.error(\"Failed to delete file\");\n      throw err;\n    }\n  },\n\n  openFile: (file: FileNode) => {\n    const existing = get().openTabs.find((t: Tab) => t.path === file.path);\n    if (existing) {\n      set({ activeTabId: existing.id });\n      return;\n    }\n    const newTab: Tab = {\n      id: Math.random().toString(36).substring(7),\n      name: file.name,\n      path: file.path,\n      content: file.content ?? \"\",\n      language: file.language || \"text\",\n    };\n    set({\n      openTabs: [...get().openTabs, newTab],\n      activeTabId: newTab.id,\n    });\n  },\n\n  closeTab: (tabId: string) => {\n    const remaining = get().openTabs.filter((tab: Tab) => tab.id !== tabId);\n    set({\n      openTabs: remaining,\n      activeTabId: remaining.length ? remaining[0].id : null,\n    });\n  },\n\n  updateTabContent: (tabId: string, content: string) => {\n    set({\n      openTabs: get().openTabs.map((t: Tab) =>\n        t.id === tabId ? { ...t, content } : t\n      ),\n    });\n  },\n\n  // ðŸ”¥ Chat Actions\n  loadChatSessions: async (projectId: string) => {\n    const sessions = await HistoryService.getSessions(projectId);\n    set({ chatSessions: sessions, activeChatId: sessions[0]?.id || null });\n  },\n\n  loadMessagesForSession: async (sessionId: string) => {\n    const messages = await HistoryService.getMessages(sessionId);\n    set({\n      chatSessions: get().chatSessions.map((s: ChatSession) =>\n        s.id === sessionId ? { ...s, messages } : s\n      ),\n    });\n  },\n  updateMessageInActiveChat: (\n    messageId: string,\n    updatedMessage: ChatMessage\n  ) => {\n    // Update the specific message in the active chat\n    set((state) => ({\n      chatSessions: state.chatSessions.map((session) =>\n        session.id === state.activeChatId\n          ? {\n              ...session,\n              messages: (session.messages ?? []).map((msg) =>\n                msg.id === messageId ? updatedMessage : msg\n              ),\n            }\n          : session\n      ),\n    }));\n  },\n  sendChatMessage: async (message: string) => {\n    const state = get();\n    if (!state.activeChatId) {\n      set({ error: \"No active chat session\" });\n      return;\n    }\n    const projectId = state.project?.id;\n    if (!projectId) {\n      set({ error: \"No active project\" });\n      return;\n    }\n    const chatId = state.activeChatId;\n    const activeAgents = getActiveAgentNames(state.activeAgents);\n\n    set({ isTyping: true });\n\n    try {\n      const response = await ChatService.sendMessage({\n        chatId,\n        message,\n        activeAgents,\n        projectId,\n      });\n\n      // Save user message\n      await HistoryService.addMessage(chatId, {\n        sender: \"user\",\n        content: message,\n      });\n\n      // Save AI messages\n      for (const m of response.messages) {\n        await HistoryService.addMessage(chatId, {\n          sender: \"ai\",\n          content: m.content,\n          agentName: m.agentName,\n        });\n      }\n\n      // Update frontend\n      await get().loadMessagesForSession(chatId);\n      await get().loadFiles(projectId);\n      await get().loadMemory(chatId);\n    } catch (err) {\n      console.error(err);\n      set({ error: \"Failed to send chat message\" });\n    } finally {\n      set({ isTyping: false });\n    }\n  },\n\n  createNewChatSession: async (name: string) => {\n    const project = get().project;\n    if (!project || !project.id) {\n      set({ error: \"No active project\" });\n      toast.error(\"No active project loaded\");\n      return;\n    }\n    try {\n      const session = await HistoryService.createSession({\n        projectId: project.id,\n        name,\n      });\n      await get().loadChatSessions(project.id);\n      set({ activeChatId: session.id });\n      toast.success(\"Chat session created\");\n    } catch (err) {\n      toast.error(\"Failed to create chat session\");\n      throw err;\n    }\n  },\n\n  deleteChatSession: async (sessionId: string) => {\n    try {\n      await HistoryService.deleteSession(sessionId);\n      const project = get().project;\n      if (project) {\n        await get().loadChatSessions(project.id);\n      }\n      toast.success(\"Chat session deleted\");\n    } catch (err) {\n      toast.error(\"Failed to delete chat session\");\n      throw err;\n    }\n  },\n\n  renameChatSession: async (sessionId: string, name: string) => {\n    try {\n      await HistoryService.renameSession(sessionId, name);\n      const project = get().project;\n      if (project) {\n        await get().loadChatSessions(project.id);\n      }\n      toast.success(\"Chat session renamed\");\n    } catch (err) {\n      toast.error(\"Failed to rename chat session\");\n      throw err;\n    }\n  },\n\n  // ðŸ”¥ Memory Actions\n  loadMemory: async (sessionId: string) => {\n    const memory = await MemoryService.getMemory(sessionId);\n    set({ memorySummary: memory });\n  },\n\n  updateMemory: async (sessionId: string, summary: string) => {\n    try {\n      const updated = await MemoryService.updateMemory(sessionId, summary);\n      set({ memorySummary: updated });\n      toast.success(\"Memory summary updated\");\n    } catch (err) {\n      toast.error(\"Failed to update memory summary\");\n      throw err;\n    }\n  },\n\n  // ðŸ”¥ Agent Actions\n  toggleAgent: (agentId: string) => {\n    const updated = get().activeAgents.map((agent: Agent) =>\n      agent.id === agentId\n        ? { ...agent, isActive: true }\n        : { ...agent, isActive: false }\n    );\n    set({ activeAgents: updated });\n    const toggledAgent = updated.find((agent: Agent) => agent.id === agentId);\n    if (toggledAgent) {\n      toast.success(`${toggledAgent.name} selected`);\n    }\n  },\n\n  // ðŸ”¥ Terminal Actions\n  addTerminalLog: (log: Omit<TerminalLog, \"id\" | \"timestamp\">) => {\n    const entry = {\n      ...log,\n      id: Math.random().toString(36).substring(7),\n      timestamp: new Date(),\n    };\n    set({ terminalLogs: [...get().terminalLogs, entry] });\n  },\n\n  toggleTerminal: () => {\n    set({ isTerminalVisible: !get().isTerminalVisible });\n  },\n\n  // ðŸ”¥ UI Actions\n  toggleChatHistory: () => {\n    set((state) => ({ isChatHistoryOpen: !state.isChatHistoryOpen }));\n  },\n\n  setRightPanelMode: (mode: RightPanelMode) => {\n    set({ rightPanelMode: mode });\n  },\n\n  toggleFileTree: () => {\n    set((state) => ({ isFileTreeCollapsed: !state.isFileTreeCollapsed }));\n  },\n\n  toggleTheme: () => {\n    set((state) => ({ theme: state.theme === \"light\" ? \"dark\" : \"light\" }));\n  },\n\n  setTheme: (theme: \"light\" | \"dark\") => {\n    set({ theme });\n  },\n\n  clearError: () => set({ error: null }),\n\n  setActiveArea: (area: string | null) => {\n    set({ activeArea: area });\n  },\n\n  // Add stubs for missing actions/properties\n  switchToChatSession: (sessionId: string) => {\n    set({ activeChatId: sessionId });\n  },\n\n  addMessageToActiveChat: (message: ChatMessage) => {\n    const state = get();\n    if (!state.activeChatId) return;\n\n    set({\n      chatSessions: state.chatSessions.map((session) =>\n        session.id === state.activeChatId\n          ? {\n              ...session,\n              messages: [...(session.messages || []), message],\n            }\n          : session\n      ),\n    });\n  },\n\n  setIsTyping: (isTyping: boolean) => {\n    set({ isTyping });\n  },\n\n  clearMessages: () => {\n    const state = get();\n    if (!state.activeChatId) return;\n\n    set({\n      chatSessions: state.chatSessions.map((session) =>\n        session.id === state.activeChatId\n          ? {\n              ...session,\n              messages: [],\n            }\n          : session\n      ),\n    });\n  },\n\n  deleteMessageFromActiveChat: (messageId: string) => {\n    const state = get();\n    if (!state.activeChatId) return;\n\n    set({\n      chatSessions: state.chatSessions.map((session) =>\n        session.id === state.activeChatId\n          ? {\n              ...session,\n              messages: (session.messages || []).filter(\n                (msg) => msg.id !== messageId\n              ),\n            }\n          : session\n      ),\n    });\n  },\n\n  setActiveTab: (tabId: string) => {\n    set({ activeTabId: tabId });\n  },\n\n  clearTerminalLogs: () => {\n    set({ terminalLogs: [] });\n  },\n\n  fetchProjects: async (): Promise<ProjectState[]> => {\n    // TODO: Implement getProjects in ProjectService\n    return await ProjectService.getProjects();\n  },\n\n  // Manual project creation action\n  createNewProject: async (name: string) => {\n    try {\n      const project = await ProjectService.createProject(name);\n      set({ project });\n      toast.success(\"New project created\");\n      await get().loadChatSessions(project.id);\n      await get().loadFiles(project.id);\n    } catch (err) {\n      set({ error: \"Failed to create project\" });\n      toast.error(\"Failed to create project\");\n    }\n  },\n}));\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1003, "column": 0}, "map": {"version":3,"sources":["file:///Users/aziz/Downloads/same-dev-platform%203/client/src/components/Chat/ChatHistory.tsx"],"sourcesContent":["\"use client\";\n\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\nimport { Spinner } from \"@/components/ui/spinner\";\nimport { useProjectStore } from \"@/store/useProjectStore\";\nimport type { ChatSession } from \"@/types\";\nimport { Check, Edit2, MessageSquare, Plus, Trash2, X } from \"lucide-react\";\nimport { useState } from \"react\";\n\ninterface ChatHistoryProps {\n  isOpen: boolean;\n  onClose: () => void;\n}\n\nexport function ChatHistory({ isOpen, onClose }: ChatHistoryProps) {\n  const [editingId, setEditingId] = useState<string | null>(null);\n  const [editingName, setEditingName] = useState(\"\");\n\n  const {\n    chatSessions,\n    activeChatId,\n    switchToChatSession,\n    deleteChatSession,\n    renameChatSession,\n    createNewChatSession,\n  } = useProjectStore();\n\n  const handleStartEdit = (chat: ChatSession) => {\n    setEditingId(chat.id);\n    setEditingName(chat.name);\n  };\n\n  const handleSaveEdit = () => {\n    if (editingId && editingName.trim()) {\n      renameChatSession(editingId, editingName.trim());\n    }\n    setEditingId(null);\n    setEditingName(\"\");\n  };\n\n  const handleCancelEdit = () => {\n    setEditingId(null);\n    setEditingName(\"\");\n  };\n\n  const handleDeleteChat = (chatId: string) => {\n    if (chatSessions.length > 1) {\n      deleteChatSession(chatId);\n    }\n  };\n\n  const handleNewChat = async () => {\n    try {\n      const newChat = await createNewChatSession(\"New Chat\");\n      if (newChat?.id) {\n        switchToChatSession(newChat.id); // auto switch to new chat\n      }\n    } catch (err) {\n      console.error(\"Failed to create new chat session:\", err);\n    }\n  };\n\n  const formatDate = (date: Date | string) => {\n    const d = typeof date === \"string\" ? new Date(date) : date;\n    const now = new Date();\n    const diff = now.getTime() - d.getTime();\n    const days = Math.floor(diff / (1000 * 60 * 60 * 24));\n\n    if (days === 0) return \"Today\";\n    if (days === 1) return \"Yesterday\";\n    if (days < 7) return `${days} days ago`;\n    return d.toLocaleDateString();\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"w-full h-full border-r bg-card flex flex-col\">\n      {/* Header */}\n      <div className=\"p-4 border-b flex flex-col gap-3\">\n        <div className=\"flex items-center justify-between\">\n          <h3 className=\"font-semibold text-lg\">Chat History</h3>\n          <Button\n            variant=\"ghost\"\n            size=\"sm\"\n            onClick={onClose}\n            className=\"h-8 w-8 p-0\"\n            aria-label=\"Close chat history\"\n          >\n            <X className=\"h-4 w-4\" />\n          </Button>\n        </div>\n        <Button onClick={handleNewChat} className=\"w-full gap-2\" size=\"sm\">\n          <Plus className=\"h-4 w-4\" />\n          New Chat\n        </Button>\n      </div>\n\n      {/* Chat Sessions List */}\n      <ScrollArea className=\"flex-1\">\n        <div className=\"p-2\">\n          {chatSessions.length === 0 ? (\n            <div className=\"flex items-center justify-center h-32\">\n              <Spinner size={28} />\n            </div>\n          ) : (\n            <>\n              {chatSessions.map((chat: ChatSession) => (\n                <div\n                  key={chat.id}\n                  className={`group relative p-3 rounded-lg cursor-pointer transition-colors mb-2 ${\n                    activeChatId === chat.id\n                      ? \"bg-primary/10 border border-primary/20\"\n                      : \"hover:bg-muted/50\"\n                  }`}\n                  onClick={() => {\n                    if (editingId !== chat.id) {\n                      switchToChatSession(chat.id);\n                    }\n                  }}\n                  role=\"button\"\n                  tabIndex={0}\n                  onKeyDown={(e) => {\n                    if (e.key === \"Enter\" || e.key === \" \") {\n                      if (editingId !== chat.id) {\n                        switchToChatSession(chat.id);\n                      }\n                    }\n                  }}\n                >\n                  <div className=\"flex items-start gap-3\">\n                    <MessageSquare className=\"h-4 w-4 mt-1 flex-shrink-0 text-muted-foreground\" />\n\n                    <div className=\"flex-1 min-w-0\">\n                      {editingId === chat.id ? (\n                        <div className=\"flex items-center gap-2\">\n                          <Input\n                            value={editingName}\n                            onChange={(e) => setEditingName(e.target.value)}\n                            onKeyDown={(e) => {\n                              e.stopPropagation();\n                              if (e.key === \"Enter\") {\n                                handleSaveEdit();\n                              } else if (e.key === \"Escape\") {\n                                handleCancelEdit();\n                              }\n                            }}\n                            className=\"h-6 text-sm\"\n                            autoFocus\n                            onClick={(e) => e.stopPropagation()}\n                            aria-label=\"Edit chat session name\"\n                          />\n                          <Button\n                            variant=\"ghost\"\n                            size=\"sm\"\n                            onClick={(e) => {\n                              e.stopPropagation();\n                              handleSaveEdit();\n                            }}\n                            className=\"h-6 w-6 p-0\"\n                            aria-label=\"Save chat name\"\n                          >\n                            <Check className=\"h-3 w-3\" />\n                          </Button>\n                          <Button\n                            variant=\"ghost\"\n                            size=\"sm\"\n                            onClick={(e) => {\n                              e.stopPropagation();\n                              handleCancelEdit();\n                            }}\n                            className=\"h-6 w-6 p-0\"\n                            aria-label=\"Cancel edit\"\n                          >\n                            <X className=\"h-3 w-3\" />\n                          </Button>\n                        </div>\n                      ) : (\n                        <>\n                          <div className=\"font-medium text-sm truncate\">\n                            {chat.name}\n                          </div>\n                          <div className=\"text-xs text-muted-foreground mt-1\">\n                            {chat.messages?.length || 0} messages â€¢{\" \"}\n                            {formatDate(chat.updatedAt)}\n                          </div>\n                          {(chat.messages?.length || 0) > 0 &&\n                            chat.messages && (\n                              <div className=\"text-xs text-muted-foreground mt-1 truncate\">\n                                {chat.messages[chat.messages.length - 1]\n                                  ?.content.length > 50\n                                  ? chat.messages[\n                                      chat.messages.length - 1\n                                    ]?.content.slice(0, 50) + \"...\"\n                                  : chat.messages[chat.messages.length - 1]\n                                      ?.content}\n                              </div>\n                            )}\n                        </>\n                      )}\n                    </div>\n\n                    {/* Action Buttons */}\n                    {editingId !== chat.id && (\n                      <div className=\"opacity-0 group-hover:opacity-100 transition-opacity flex gap-1\">\n                        <Button\n                          variant=\"ghost\"\n                          size=\"sm\"\n                          onClick={(e) => {\n                            e.stopPropagation();\n                            handleStartEdit(chat);\n                          }}\n                          className=\"h-6 w-6 p-0\"\n                          aria-label={`Edit chat ${chat.name}`}\n                          title=\"Edit chat\"\n                        >\n                          <Edit2 className=\"h-3 w-3\" />\n                        </Button>\n                        {chatSessions.length > 1 && (\n                          <Button\n                            variant=\"ghost\"\n                            size=\"sm\"\n                            onClick={(e) => {\n                              e.stopPropagation();\n                              handleDeleteChat(chat.id);\n                            }}\n                            className=\"h-6 w-6 p-0 text-red-500 hover:text-red-700\"\n                            aria-label={`Delete chat ${chat.name}`}\n                            title=\"Delete chat\"\n                          >\n                            <Trash2 className=\"h-3 w-3\" />\n                          </Button>\n                        )}\n                      </div>\n                    )}\n                  </div>\n                </div>\n              ))}\n            </>\n          )}\n        </div>\n      </ScrollArea>\n\n      {/* Footer */}\n      <div className=\"p-4 border-t\">\n        <div className=\"text-xs text-muted-foreground select-none\">\n          {chatSessions.length} conversation\n          {chatSessions.length !== 1 ? \"s\" : \"\"}\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1402, "column": 0}, "map": {"version":3,"sources":["file:///Users/aziz/Downloads/same-dev-platform%203/client/src/components/ui/badge.tsx"],"sourcesContent":["import { type VariantProps, cva } from \"class-variance-authority\";\nimport type * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80\",\n        outline: \"text-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  },\n);\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  );\n}\n\nexport { Badge, badgeVariants };\n"],"names":[],"mappings":";;;;;;AAAA;AAGA;;;;AAEA,MAAM,gBAAgB,CAAA,GAAA,gKAAA,CAAA,MAAG,AAAD,EACtB,wKACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SAAS;QACX;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAOF,SAAS,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAmB;IACzD,qBACE,gMAAC;QAAI,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,cAAc;YAAE;QAAQ,IAAI;QAAa,GAAG,KAAK;;;;;;AAExE","debugId":null}},
    {"offset": {"line": 1445, "column": 0}, "map": {"version":3,"sources":["file:///Users/aziz/Downloads/same-dev-platform%203/client/src/components/ui/dropdown-menu.tsx"],"sourcesContent":["\"use client\";\n\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\";\nimport { Check, ChevronRight, Circle } from \"lucide-react\";\nimport * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst DropdownMenu = DropdownMenuPrimitive.Root;\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger;\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group;\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal;\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub;\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup;\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean;\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className,\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto\" />\n  </DropdownMenuPrimitive.SubTrigger>\n));\nDropdownMenuSubTrigger.displayName =\n  DropdownMenuPrimitive.SubTrigger.displayName;\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n      className,\n    )}\n    {...props}\n  />\n));\nDropdownMenuSubContent.displayName =\n  DropdownMenuPrimitive.SubContent.displayName;\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md\",\n        \"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n        className,\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n));\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName;\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean;\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0\",\n      inset && \"pl-8\",\n      className,\n    )}\n    {...props}\n  />\n));\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName;\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className,\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n));\nDropdownMenuCheckboxItem.displayName =\n  DropdownMenuPrimitive.CheckboxItem.displayName;\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className,\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n));\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName;\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean;\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className,\n    )}\n    {...props}\n  />\n));\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName;\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n));\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName;\n\nconst DropdownMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\n      {...props}\n    />\n  );\n};\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\";\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuRadioGroup,\n};\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1644, "column": 0}, "map": {"version":3,"sources":["file:///Users/aziz/Downloads/same-dev-platform%203/client/src/components/ui/textarea.tsx"],"sourcesContent":["import * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Textarea = React.forwardRef<\n  HTMLTextAreaElement,\n  React.ComponentProps<\"textarea\">\n>(({ className, ...props }, ref) => {\n  return (\n    <textarea\n      className={cn(\n        \"flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className,\n      )}\n      ref={ref}\n      {...props}\n    />\n  );\n});\nTextarea.displayName = \"Textarea\";\n\nexport { Textarea };\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAEA,MAAM,yBAAW,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAG9B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IAC1B,qBACE,gMAAC;QACC,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,6QACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AACA,SAAS,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 1751, "column": 0}, "map": {"version":3,"sources":["file:///Users/aziz/Downloads/same-dev-platform%203/client/src/components/Chat/MarkdownMessage.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useRef, useEffect, useState } from \"react\";\nimport ReactMarkdown from \"react-markdown\";\nimport remarkGfm from \"remark-gfm\";\nimport rehypeHighlight from \"rehype-highlight\";\nimport { motion } from \"framer-motion\";\n\ntype MarkdownMessageProps = {\n  content: string;\n  isAI?: boolean;\n  animated?: boolean; // New prop to enable streaming animation\n  onRender?: () => void;\n};\n\nexport function MarkdownMessage({\n  content,\n  isAI = false,\n  animated = false,\n  onRender,\n}: MarkdownMessageProps) {\n  const messageRef = useRef<HTMLDivElement>(null);\n  const [displayedText, setDisplayedText] = useState(animated ? \"\" : content);\n\n  useEffect(() => {\n    if (onRender) onRender();\n    if (!animated) {\n      setDisplayedText(content);\n      messageRef.current?.scrollIntoView({ behavior: \"smooth\", block: \"end\" });\n      return;\n    }\n\n    let i = 0;\n    let timer: NodeJS.Timeout;\n\n    function type() {\n      if (i <= content.length) {\n        setDisplayedText(content.slice(0, i));\n        i++;\n        timer = setTimeout(type, 12);\n      } else {\n        // After finished typing scroll into view again\n        messageRef.current?.scrollIntoView({\n          behavior: \"smooth\",\n          block: \"end\",\n        });\n      }\n    }\n\n    type();\n\n    return () => clearTimeout(timer);\n  }, [content, animated, onRender]);\n\n  return (\n    <motion.div\n      ref={messageRef}\n      initial={{ opacity: 0, y: 10 }}\n      animate={{ opacity: 1, y: 0 }}\n      className={\n        isAI ? \"bg-[#343541] text-white p-4 rounded-xl max-w-2xl shadow-md\" : \"\"\n      }\n    >\n      <div className=\"prose dark:prose-invert max-w-none prose-headings:font-semibold prose-h1:text-3xl prose-h2:text-2xl prose-p:leading-relaxed\">\n        <ReactMarkdown\n          remarkPlugins={[remarkGfm]}\n          rehypePlugins={[rehypeHighlight]}\n          components={{\n            code({ inline, className, children, ...props }) {\n              const match = /language-(\\w+)/.exec(className || \"\");\n              const codeString = String(children).replace(/\\n$/, \"\");\n\n              if (!inline) {\n                return (\n                  <div className=\"relative group my-4\">\n                    <pre className=\"overflow-x-auto rounded-lg p-4 text-sm font-mono shadow-md\">\n                      <code\n                        className={`language-${match?.[1] || \"plaintext\"}`}\n                        {...props}\n                      >\n                        {codeString}\n                      </code>\n                    </pre>\n                  </div>\n                );\n              }\n\n              return (\n                <code className=\"px-1 py-0.5 rounded text-sm font-mono\">\n                  {children}\n                </code>\n              );\n            },\n            h1: ({ children }) => (\n              <h1 className=\"text-3xl font-bold mt-6 mb-3 text-white\">\n                {children}\n              </h1>\n            ),\n            h2: ({ children }) => (\n              <h2 className=\"text-2xl font-semibold mt-5 mb-3 text-gray-100\">\n                {children}\n              </h2>\n            ),\n            h3: ({ children }) => (\n              <h3 className=\"text-xl font-medium mt-4 mb-2 text-gray-200\">\n                {children}\n              </h3>\n            ),\n            p: ({ children }) => {\n              const isOnlyText = React.Children.toArray(children).every(\n                (child: any) => typeof child === \"string\"\n              );\n              if (!isOnlyText) {\n                return (\n                  <div className=\"my-2 leading-relaxed text-gray-300\">\n                    {children}\n                  </div>\n                );\n              }\n              return (\n                <p className=\"text-base leading-relaxed text-gray-300 my-2\">\n                  {children}\n                </p>\n              );\n            },\n            ul: ({ children }) => (\n              <ul className=\"list-disc pl-6 my-2 text-gray-300\">{children}</ul>\n            ),\n            ol: ({ children }) => (\n              <ol className=\"list-decimal pl-6 my-2 text-gray-300\">\n                {children}\n              </ol>\n            ),\n            li: ({ children }) => (\n              <li className=\"my-1 text-gray-300\">{children}</li>\n            ),\n            blockquote: ({ children }) => (\n              <blockquote className=\"border-l-4 border-gray-600 pl-4 italic my-4 text-gray-400\">\n                {children}\n              </blockquote>\n            ),\n            a: ({ children, href }) => (\n              <a\n                href={href}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                className=\"text-blue-400 underline hover:text-blue-300\"\n              >\n                {children}\n              </a>\n            ),\n            table: ({ children }) => (\n              <table className=\"min-w-full border-collapse my-4\">\n                {children}\n              </table>\n            ),\n            th: ({ children }) => (\n              <th className=\"border-b border-gray-600 px-3 py-2 text-left font-semibold text-gray-200\">\n                {children}\n              </th>\n            ),\n            td: ({ children }) => (\n              <td className=\"border-b border-gray-700 px-3 py-2 text-gray-300\">\n                {children}\n              </td>\n            ),\n          }}\n        >\n          {displayedText}\n        </ReactMarkdown>\n      </div>\n    </motion.div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1997, "column": 0}, "map": {"version":3,"sources":["file:///Users/aziz/Downloads/same-dev-platform%203/client/src/components/Chat/ChatMessage.tsx"],"sourcesContent":["\"use client\";\n\nimport { Button } from \"@/components/ui/button\";\nimport { useProjectStore } from \"@/store/useProjectStore\";\nimport type { ChatMessage as ChatMessageType } from \"@/types\";\nimport { format } from \"date-fns\";\nimport { Bot, Check, Copy, Trash2, User } from \"lucide-react\";\nimport { useState } from \"react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { MarkdownMessage } from \"./MarkdownMessage\";\n\ninterface ChatMessageProps {\n  message: ChatMessageType;\n  onDelete?: (messageId: string) => void;\n  isStreaming?: boolean; // New prop\n}\n\nexport function ChatMessage({\n  message,\n  onDelete,\n  isStreaming = false,\n}: ChatMessageProps) {\n  const [copied, setCopied] = useState(false);\n  const store = useProjectStore();\n\n  const isUser = message.sender === \"user\";\n\n  const handleCopy = async () => {\n    try {\n      await navigator.clipboard.writeText(message.content);\n      setCopied(true);\n      setTimeout(() => setCopied(false), 1500);\n    } catch {\n      setCopied(false);\n    }\n  };\n\n  const handleDelete = () => {\n    if (onDelete) onDelete(message.id);\n  };\n\n  return (\n    <AnimatePresence>\n      <motion.div\n        layout\n        initial={{ opacity: 0, y: 10 }}\n        animate={{ opacity: 1, y: 0 }}\n        exit={{ opacity: 0, y: -10 }}\n        transition={{ duration: 0.3 }}\n        className={`flex gap-3 px-2 ${isUser ? \"flex-row-reverse\" : \"\"}`}\n      >\n        {/* Avatar */}\n        <div\n          className={`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center `}\n        >\n          {isUser ? <User className=\"w-4 h-4\" /> : <Bot className=\"w-4 h-4\" />}\n        </div>\n\n        {/* Message bubble */}\n        <div\n          className={`flex-1 max-w-[80%] flex flex-col ${\n            isUser ? \"items-end\" : \"items-start\"\n          }`}\n        >\n          {/* Sender + time */}\n          <div className=\"flex items-center gap-2 mb-1 text-sm text-muted-foreground\">\n            <span className=\"font-bold\">\n              {isUser ? \"You\" : message.agentName || \"AI\"}\n            </span>\n            <span>{format(new Date(message.timestamp), \"HH:mm\")}</span>\n          </div>\n\n          {/* Message content */}\n          <div className={`group relative w-full rounded-xl p-4 shadow-md`}>\n            <MarkdownMessage\n              content={message.content}\n              isAI={!isUser}\n              animated={isStreaming}\n            />\n\n            {/* Controls */}\n            {isUser ? (\n              <div className=\"absolute top-2 left-2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1\">\n                <Button\n                  variant=\"ghost\"\n                  size=\"sm\"\n                  className=\"h-6 w-6 p-0 text-red-500 hover:text-red-700\"\n                  onClick={handleDelete}\n                >\n                  <Trash2 className=\"w-3 h-3\" />\n                </Button>\n              </div>\n            ) : (\n              <div className=\"mt-3 flex justify-end\">\n                <Button\n                  variant=\"ghost\"\n                  size=\"sm\"\n                  className=\"h-6 w-6 p-0\"\n                  onClick={handleCopy}\n                  title=\"Copy entire message\"\n                >\n                  {copied ? (\n                    <Check className=\"w-3 h-3\" />\n                  ) : (\n                    <Copy className=\"w-3 h-3\" />\n                  )}\n                </Button>\n              </div>\n            )}\n          </div>\n        </div>\n      </motion.div>\n    </AnimatePresence>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AATA;;;;;;;;;AAiBO,SAAS,YAAY,EAC1B,OAAO,EACP,QAAQ,EACR,cAAc,KAAK,EACF;IACjB,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACrC,MAAM,QAAQ,CAAA,GAAA,+HAAA,CAAA,kBAAe,AAAD;IAE5B,MAAM,SAAS,QAAQ,MAAM,KAAK;IAElC,MAAM,aAAa;QACjB,IAAI;YACF,MAAM,UAAU,SAAS,CAAC,SAAS,CAAC,QAAQ,OAAO;YACnD,UAAU;YACV,WAAW,IAAM,UAAU,QAAQ;QACrC,EAAE,OAAM;YACN,UAAU;QACZ;IACF;IAEA,MAAM,eAAe;QACnB,IAAI,UAAU,SAAS,QAAQ,EAAE;IACnC;IAEA,qBACE,gMAAC,yLAAA,CAAA,kBAAe;kBACd,cAAA,gMAAC,0LAAA,CAAA,SAAM,CAAC,GAAG;YACT,MAAM;YACN,SAAS;gBAAE,SAAS;gBAAG,GAAG;YAAG;YAC7B,SAAS;gBAAE,SAAS;gBAAG,GAAG;YAAE;YAC5B,MAAM;gBAAE,SAAS;gBAAG,GAAG,CAAC;YAAG;YAC3B,YAAY;gBAAE,UAAU;YAAI;YAC5B,WAAW,CAAC,gBAAgB,EAAE,SAAS,qBAAqB,IAAI;;8BAGhE,gMAAC;oBACC,WAAW,CAAC,oEAAoE,CAAC;8BAEhF,uBAAS,gMAAC,kMAAA,CAAA,OAAI;wBAAC,WAAU;;;;;6CAAe,gMAAC,gMAAA,CAAA,MAAG;wBAAC,WAAU;;;;;;;;;;;8BAI1D,gMAAC;oBACC,WAAW,CAAC,iCAAiC,EAC3C,SAAS,cAAc,eACvB;;sCAGF,gMAAC;4BAAI,WAAU;;8CACb,gMAAC;oCAAK,WAAU;8CACb,SAAS,QAAQ,QAAQ,SAAS,IAAI;;;;;;8CAEzC,gMAAC;8CAAM,CAAA,GAAA,qJAAA,CAAA,SAAM,AAAD,EAAE,IAAI,KAAK,QAAQ,SAAS,GAAG;;;;;;;;;;;;sCAI7C,gMAAC;4BAAI,WAAW,CAAC,8CAA8C,CAAC;;8CAC9D,gMAAC,6IAAA,CAAA,kBAAe;oCACd,SAAS,QAAQ,OAAO;oCACxB,MAAM,CAAC;oCACP,UAAU;;;;;;gCAIX,uBACC,gMAAC;oCAAI,WAAU;8CACb,cAAA,gMAAC,kIAAA,CAAA,SAAM;wCACL,SAAQ;wCACR,MAAK;wCACL,WAAU;wCACV,SAAS;kDAET,cAAA,gMAAC,0MAAA,CAAA,SAAM;4CAAC,WAAU;;;;;;;;;;;;;;;yDAItB,gMAAC;oCAAI,WAAU;8CACb,cAAA,gMAAC,kIAAA,CAAA,SAAM;wCACL,SAAQ;wCACR,MAAK;wCACL,WAAU;wCACV,SAAS;wCACT,OAAM;kDAEL,uBACC,gMAAC,oMAAA,CAAA,QAAK;4CAAC,WAAU;;;;;iEAEjB,gMAAC,kMAAA,CAAA,OAAI;4CAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAUpC","debugId":null}},
    {"offset": {"line": 2202, "column": 0}, "map": {"version":3,"sources":["file:///Users/aziz/Downloads/same-dev-platform%203/client/src/components/Chat/TypingIndicator.tsx"],"sourcesContent":["\"use client\";\n\nimport { Badge } from \"@/components/ui/badge\";\nimport { Bot } from \"lucide-react\";\n\ninterface TypingIndicatorProps {\n  agentName: string;\n}\n\nexport function TypingIndicator({ agentName }: TypingIndicatorProps) {\n  return (\n    <div className=\"flex gap-3\">\n      {/* Agent Avatar */}\n      <div className=\"flex-shrink-0 w-8 h-8 rounded-full bg-gradient-to-br from-purple-600 to-blue-600 flex items-center justify-center text-white shadow-md\">\n        <Bot className=\"w-5 h-5\" />\n      </div>\n\n      {/* Typing Content */}\n      <div className=\"flex-1\">\n        <div className=\"flex items-center gap-2 mb-1\">\n          <Badge\n            variant=\"outline\"\n            className=\"text-xs font-semibold text-primary\"\n          >\n            {agentName}\n          </Badge>\n          <span className=\"text-xs text-muted-foreground italic select-none\">\n            is typing...\n          </span>\n        </div>\n\n        <div className=\"bg-muted rounded-lg px-5 py-3 mr-8 shadow-sm border border-muted-border\">\n          <div className=\"flex items-center gap-1\">\n            <div className=\"flex space-x-1\">\n              <span\n                className=\"w-2.5 h-2.5 bg-muted-foreground rounded-full animate-bounce\"\n                style={{ animationDelay: \"0ms\" }}\n              />\n              <span\n                className=\"w-2.5 h-2.5 bg-muted-foreground rounded-full animate-bounce\"\n                style={{ animationDelay: \"150ms\" }}\n              />\n              <span\n                className=\"w-2.5 h-2.5 bg-muted-foreground rounded-full animate-bounce\"\n                style={{ animationDelay: \"300ms\" }}\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AASO,SAAS,gBAAgB,EAAE,SAAS,EAAwB;IACjE,qBACE,gMAAC;QAAI,WAAU;;0BAEb,gMAAC;gBAAI,WAAU;0BACb,cAAA,gMAAC,gMAAA,CAAA,MAAG;oBAAC,WAAU;;;;;;;;;;;0BAIjB,gMAAC;gBAAI,WAAU;;kCACb,gMAAC;wBAAI,WAAU;;0CACb,gMAAC,iIAAA,CAAA,QAAK;gCACJ,SAAQ;gCACR,WAAU;0CAET;;;;;;0CAEH,gMAAC;gCAAK,WAAU;0CAAmD;;;;;;;;;;;;kCAKrE,gMAAC;wBAAI,WAAU;kCACb,cAAA,gMAAC;4BAAI,WAAU;sCACb,cAAA,gMAAC;gCAAI,WAAU;;kDACb,gMAAC;wCACC,WAAU;wCACV,OAAO;4CAAE,gBAAgB;wCAAM;;;;;;kDAEjC,gMAAC;wCACC,WAAU;wCACV,OAAO;4CAAE,gBAAgB;wCAAQ;;;;;;kDAEnC,gMAAC;wCACC,WAAU;wCACV,OAAO;4CAAE,gBAAgB;wCAAQ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQjD","debugId":null}},
    {"offset": {"line": 2332, "column": 0}, "map": {"version":3,"sources":["file:///Users/aziz/Downloads/same-dev-platform%203/client/src/components/Chat/ChatInterface.tsx"],"sourcesContent":["\"use client\";\n\nimport { Badge } from \"@/components/ui/badge\";\nimport { Button } from \"@/components/ui/button\";\nimport { MarkdownMessage } from \"./MarkdownMessage\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\nimport { Spinner } from \"@/components/ui/spinner\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { ChatService } from \"@/services/chatService\";\nimport { useProjectStore } from \"@/store/useProjectStore\";\nimport {\n  Bot,\n  FolderOpen,\n  MoreVertical,\n  Plus,\n  Send,\n  Trash2,\n} from \"lucide-react\";\nimport { useState, useEffect, useRef, useCallback } from \"react\";\nimport { toast } from \"sonner\";\nimport { ChatMessage } from \"./ChatMessage\";\nimport { TypingIndicator } from \"./TypingIndicator\";\n\n// Types\ninterface ChatTimings {\n  [key: string]: number;\n}\n\ninterface Agent {\n  id: string | number;\n  name: string;\n  isActive: boolean;\n}\n\ninterface FileData {\n  filePath: string;\n  content: string;\n}\n\ninterface Message {\n  id: string;\n  content: string;\n  sender: \"user\" | \"ai\";\n  agentName: string;\n  timestamp: Date;\n  type: \"text\";\n  isStreaming?: boolean;\n}\n\n// Constants\nconst COMMANDS = {\n  CLEAR: \"/clear\",\n  RESET: \"/reset\",\n  HELP: \"/help\",\n} as const;\n\nconst STREAMING_MESSAGE_ID = \"streaming-ai\";\n\n// Utility functions\nconst extractTerminalCommand = (content: string): string | null => {\n  const regex = /```terminal\\s*\\n([\\s\\S]*?)```/i;\n  const match = content.match(regex);\n  return match?.[1]?.trim() || null;\n};\n\nconst generateMessageId = () => Math.random().toString(36).substring(7);\n\nconst createMessage = (\n  content: string,\n  sender: \"user\" | \"ai\",\n  agentName = \"AI\",\n  isStreaming = false\n): Message => ({\n  id: generateMessageId(),\n  content,\n  sender,\n  agentName,\n  timestamp: new Date(),\n  type: \"text\" as const,\n  isStreaming,\n});\n\ndeclare global {\n  interface Window {\n    injectTerminalCommand?: (command: string) => void;\n  }\n}\n\nexport function ChatInterface() {\n  // State\n  const [inputValue, setInputValue] = useState(\"\");\n  const [streaming, setStreaming] = useState(false);\n  const [streamedText, setStreamedText] = useState(\"\");\n  const [isStreaming, setIsStreaming] = useState(false);\n  const [lastTimings, setLastTimings] = useState<ChatTimings | null>(null);\n  const [streamingMessageId, setStreamingMessageId] = useState<string | null>(\n    null\n  );\n\n  // Refs\n  const bottomRef = useRef<HTMLDivElement>(null);\n\n  // Store\n  const {\n    chatSessions,\n    activeChatId,\n    isTyping,\n    addMessageToActiveChat,\n    updateMessageInActiveChat,\n    setIsTyping,\n    activeAgents,\n    availableAgents,\n    toggleAgent,\n    clearMessages,\n    createNewChatSession,\n    project,\n    openTabs,\n    uploadFile,\n    openFile,\n    loadFiles,\n    setActiveArea,\n  } = useProjectStore();\n\n  // Computed values\n  const activeChat = chatSessions.find((chat) => chat.id === activeChatId);\n  const messages = activeChat?.messages || [];\n  const filteredMessages = messages.filter(\n    (message) => message.content?.trim() !== \"\"\n  );\n\n  const activeAgent =\n    availableAgents.find((a) => a.isActive) ||\n    availableAgents.find((a) => a.name?.toLowerCase() === \"coder\") ||\n    availableAgents[0];\n\n  const agentLabel = activeAgent?.name || \"Coder\";\n  const truncatedAgentLabel =\n    agentLabel.length > 14 ? agentLabel.slice(0, 13) + \"â€¦\" : agentLabel;\n\n  // Effects\n\n  // Ensure default agent is active\n  useEffect(() => {\n    if (!Array.isArray(availableAgents) || availableAgents.length === 0) return;\n\n    const coderAgent = availableAgents.find(\n      (a) => a.name?.toLowerCase() === \"coder\"\n    );\n\n    if (coderAgent && !coderAgent.isActive) {\n      toggleAgent(String(coderAgent.id));\n    } else if (!coderAgent) {\n      const anyActive = availableAgents.some((a) => a.isActive);\n      if (!anyActive) {\n        toggleAgent(String(availableAgents[0].id));\n      }\n    }\n  }, [availableAgents, toggleAgent]);\n\n  // Auto-scroll to bottom\n  useEffect(() => {\n    bottomRef.current?.scrollIntoView({ behavior: \"smooth\" });\n  }, [messages.length, isTyping, streamedText]);\n\n  // Handlers\n  const handleCommand = useCallback(\n    (command: string) => {\n      const cmd = command.trim().toLowerCase();\n\n      switch (cmd) {\n        case COMMANDS.CLEAR:\n          clearMessages();\n          toast.success(\"Chat cleared\");\n          break;\n        case COMMANDS.RESET:\n          createNewChatSession(\"New Chat\");\n          toast.success(\"Chat reset\");\n          break;\n        case COMMANDS.HELP:\n          toast.info(\"Commands: /clear, /reset, /help\");\n          break;\n        default:\n          toast.error(`Unknown command: ${cmd}`);\n      }\n    },\n    [clearMessages, createNewChatSession]\n  );\n\n  const getActiveAgentIds = useCallback(() => {\n    return (Array.isArray(activeAgents) ? activeAgents : [])\n      .filter((a) => a.isActive)\n      .map((a) => a.id);\n  }, [activeAgents]);\n\n  const handleFileProcessing = useCallback(\n    async (files: FileData[]) => {\n      if (!Array.isArray(files)) return;\n\n      for (const file of files) {\n        await uploadFile({ filePath: file.filePath, content: file.content });\n        openFile({\n          id: generateMessageId(),\n          name: file.filePath.split(\"/\").pop() || file.filePath,\n          path: file.filePath,\n          content: file.content,\n          language: file.filePath.split(\".\").pop() || \"text\",\n          type: \"file\",\n        });\n      }\n\n      if (project?.id) {\n        await loadFiles(project.id);\n      }\n    },\n    [uploadFile, openFile, loadFiles, project?.id]\n  );\n\n  const handleSendMessage = useCallback(async () => {\n    if (!inputValue.trim()) return;\n\n    // Handle commands\n    if (inputValue.startsWith(\"/\")) {\n      handleCommand(inputValue);\n      setInputValue(\"\");\n      return;\n    }\n\n    // Add user message\n    addMessageToActiveChat(createMessage(inputValue, \"user\"));\n    const messageToSend = inputValue;\n    setInputValue(\"\");\n    setIsTyping(true);\n\n    try {\n      const data = await ChatService.sendMessage({\n        chatId: activeChatId || \"default-chat\",\n        projectId: project?.id || \"default-project\",\n        message: messageToSend,\n        activeAgents: getActiveAgentIds(),\n      });\n\n      setLastTimings(data.timings || null);\n\n      // Process AI messages\n      for (const msg of data.messages) {\n        let content = \"\";\n\n        if (msg?.choices?.[0]?.message?.content) {\n          content = msg.choices[0].message.content;\n        } else if (typeof msg.content === \"string\") {\n          content = msg.content;\n        }\n\n        const agentName =\n          msg?.agentName && typeof msg.agentName === \"string\"\n            ? msg.agentName\n            : \"AI\";\n\n        addMessageToActiveChat(createMessage(content, \"ai\", agentName));\n      }\n\n      // Handle file uploads\n      await handleFileProcessing(data.files);\n      toast.success(\"Message sent to agent(s)\");\n    } catch (error) {\n      console.error(\"Chat API error:\", error);\n      addMessageToActiveChat(\n        createMessage(\n          \"Failed to get AI response. Please try again.\",\n          \"ai\",\n          \"System\"\n        )\n      );\n      toast.error(\"Failed to send message to agent(s)\");\n    } finally {\n      setIsTyping(false);\n    }\n  }, [\n    inputValue,\n    handleCommand,\n    addMessageToActiveChat,\n    activeChatId,\n    project?.id,\n    getActiveAgentIds,\n    handleFileProcessing,\n  ]);\n\n  const handleSendMessageStream = useCallback(async () => {\n    if (!inputValue.trim()) return;\n\n    // Add user message\n    addMessageToActiveChat(createMessage(inputValue, \"user\"));\n    const messageToSend = inputValue;\n    setInputValue(\"\");\n\n    // Create streaming message\n    const streamingId = generateMessageId();\n    setStreamingMessageId(streamingId);\n    setIsStreaming(true);\n    setStreamedText(\"\");\n\n    // Add initial streaming message\n    addMessageToActiveChat(\n      createMessage(\"\", \"ai\", activeAgent?.name || \"AI\", true)\n    );\n\n    const payload = {\n      chatId: activeChatId || \"default-chat\",\n      projectId: project?.id || \"default-project\",\n      message: messageToSend,\n      activeAgents: getActiveAgentIds(),\n    };\n\n    try {\n      const stream = await ChatService.sendMessageStream(payload);\n      const reader = stream.getReader();\n      const decoder = new TextDecoder(\"utf-8\");\n      let buffer = \"\";\n      let accumulatedText = \"\";\n\n      while (true) {\n        const { value, done } = await reader.read();\n        if (done) break;\n\n        if (value) {\n          buffer += decoder.decode(value, { stream: true });\n          const parts = buffer.split(\"\\n\\n\");\n          buffer = parts.pop() || \"\";\n\n          for (const part of parts) {\n            if (part.startsWith(\"data: \")) {\n              const chunk = part.replace(\"data: \", \"\");\n              if (chunk === \"[DONE]\") {\n                setIsStreaming(false);\n                setStreamingMessageId(null);\n                return;\n              }\n\n              // Accumulate text and update the streaming message\n              accumulatedText += chunk;\n              setStreamedText(accumulatedText);\n\n              // Update the last message (streaming message) with new content\n              const currentMessages = activeChat?.messages || [];\n              const lastMessage = currentMessages[currentMessages.length - 1];\n              if (lastMessage && lastMessage.sender === \"ai\") {\n                updateMessageInActiveChat(lastMessage.id, {\n                  ...lastMessage,\n                  content: accumulatedText,\n                  isStreaming: true,\n                });\n              }\n            }\n          }\n        }\n      }\n    } catch (err) {\n      console.error(\"Streaming error:\", err);\n      toast.error(\"Streaming error: \" + (err as Error).message);\n\n      // Add error message\n      addMessageToActiveChat(\n        createMessage(\n          \"Failed to stream response. Please try again.\",\n          \"ai\",\n          \"System\"\n        )\n      );\n    } finally {\n      setIsStreaming(false);\n      setStreamingMessageId(null);\n\n      // Finalize the streaming message\n      const currentMessages = activeChat?.messages || [];\n      const lastMessage = currentMessages[currentMessages.length - 1];\n      if (\n        lastMessage &&\n        lastMessage.sender === \"ai\" &&\n        lastMessage.isStreaming\n      ) {\n        updateMessageInActiveChat(lastMessage.id, {\n          ...lastMessage,\n          isStreaming: false,\n        });\n      }\n    }\n  }, [\n    inputValue,\n    addMessageToActiveChat,\n    updateMessageInActiveChat,\n    activeChatId,\n    project?.id,\n    getActiveAgentIds,\n    activeAgent?.name,\n    activeChat?.messages,\n  ]);\n\n  const handleWorkflow = useCallback(async () => {\n    if (!inputValue.trim()) return;\n\n    addMessageToActiveChat(createMessage(inputValue, \"user\"));\n    const messageToSend = inputValue;\n    setInputValue(\"\");\n    setIsTyping(true);\n\n    try {\n      const context = openTabs.map((tab) => ({\n        path: tab.path,\n        content: tab.content,\n        language: tab.language,\n      }));\n\n      const data = await ChatService.sendWorkflowMessage({\n        chatId: activeChatId || \"default-chat\",\n        message: messageToSend,\n        projectId: project?.id || \"default-project\",\n        context,\n      });\n\n      if (Array.isArray(data.responses)) {\n        for (const resp of data.responses) {\n          addMessageToActiveChat(\n            createMessage(resp.content, \"ai\", resp.agentName)\n          );\n\n          // Handle terminal commands\n          const terminalCommand = extractTerminalCommand(resp.content);\n          if (terminalCommand) {\n            setActiveArea(\"terminal\");\n            window.injectTerminalCommand?.(terminalCommand);\n          }\n\n          // Set active area based on agent\n          const agentName = resp.agentName?.toLowerCase();\n          if (agentName?.includes(\"coder\")) setActiveArea(\"editor\");\n          if (agentName?.includes(\"file\")) setActiveArea(\"files\");\n          if (agentName?.includes(\"preview\")) setActiveArea(\"preview\");\n        }\n      } else {\n        console.error(\"Invalid response from workflow API:\", data);\n        toast.error(\"Agent workflow response is invalid.\");\n      }\n\n      await handleFileProcessing(data.files);\n      toast.success(\"Workflow sent to agent(s)\");\n    } catch (error) {\n      console.error(\"Workflow error:\", error);\n      addMessageToActiveChat(\n        createMessage(\"Workflow failed. Please try again.\", \"ai\", \"System\")\n      );\n      toast.error(\"Failed to send workflow to agent(s)\");\n    } finally {\n      setIsTyping(false);\n    }\n  }, [\n    inputValue,\n    addMessageToActiveChat,\n    openTabs,\n    activeChatId,\n    project?.id,\n    setActiveArea,\n    handleFileProcessing,\n  ]);\n\n  const handleKeyDown = useCallback(\n    async (e: React.KeyboardEvent) => {\n      if (e.key === \"Enter\" && !e.shiftKey) {\n        e.preventDefault();\n        if (streaming) {\n          await handleSendMessageStream();\n        } else {\n          await handleSendMessage();\n        }\n      }\n    },\n    [streaming, handleSendMessageStream, handleSendMessage]\n  );\n\n  const handleNewChat = useCallback(() => {\n    createNewChatSession(\"New Chat\");\n  }, [createNewChatSession]);\n\n  const handleClearChat = useCallback(() => {\n    clearMessages();\n  }, [clearMessages]);\n\n  const toggleStreaming = useCallback(() => {\n    setStreaming((prev) => !prev);\n  }, []);\n\n  // Render helpers\n  const renderActiveAgents = () =>\n    (activeAgents ?? [])\n      .filter((agent) => agent.isActive)\n      .map((agent) => (\n        <Badge\n          key={String(agent.id)}\n          variant=\"secondary\"\n          className=\"text-xs flex items-center gap-1\"\n        >\n          <Bot className=\"w-3 h-3\" />\n          {agent.name}\n        </Badge>\n      ));\n\n  const renderAgentDropdown = () => {\n    if (!availableAgents?.length) {\n      return <span className=\"text-red-500 text-xs\">No agents available</span>;\n    }\n\n    return (\n      <DropdownMenu>\n        <DropdownMenuTrigger asChild>\n          <Button className=\"rounded-full px-4 py-2 bg-user-bg hover:bg-user-bg text-user-text border border-user-text shadow-sm transition flex items-center gap-2\">\n            <Bot className=\"w-4 h-4\" />\n            {truncatedAgentLabel}\n          </Button>\n        </DropdownMenuTrigger>\n        <DropdownMenuContent align=\"start\" className=\"w-48\">\n          {availableAgents.map((agent) => (\n            <DropdownMenuItem\n              key={String(agent.id)}\n              onClick={() => toggleAgent(String(agent.id))}\n              className={`flex items-center gap-2 ${\n                agent.isActive ? \"bg-user-bg text-user-text\" : \"\"\n              }`}\n            >\n              <Bot className=\"w-4 h-4 text-user-text\" />\n              <span className=\"truncate max-w-[200px]\">\n                {agent.name || \"Unnamed\"}\n              </span>\n              {agent.isActive && (\n                <span className=\"ml-auto text-xs font-semibold text-user-text\">\n                  Active\n                </span>\n              )}\n            </DropdownMenuItem>\n          ))}\n        </DropdownMenuContent>\n      </DropdownMenu>\n    );\n  };\n\n  const renderMessages = () => {\n    if (!activeChat && !isTyping) {\n      return (\n        <div className=\"flex items-center justify-center h-32\">\n          <Spinner size={28} />\n        </div>\n      );\n    }\n\n    return (\n      <div className=\"space-y-6 w-full max-w-3xl mx-auto px-2 sm:px-4 md:px-6\">\n        {filteredMessages.map((message) => (\n          <ChatMessage\n            key={message.id}\n            message={message}\n            isStreaming={message.isStreaming || false}\n          />\n        ))}\n\n        {isTyping && !isStreaming && (\n          <TypingIndicator agentName={activeAgent?.name || \"AI Agent\"} />\n        )}\n\n        {lastTimings && (\n          <div className=\"mt-2 text-xs text-muted-foreground bg-gray-900/80 rounded p-3 max-w-md mx-auto border border-gray-700\">\n            <div className=\"font-semibold mb-1\">â±ï¸ Response Timings (ms):</div>\n            <ul className=\"space-y-0.5\">\n              {Object.entries(lastTimings).map(([k, v]) => (\n                <li key={k}>\n                  <span className=\"font-mono text-gray-300\">{k}</span>:{\" \"}\n                  <span className=\"font-mono text-gray-100\">{v}</span>\n                </li>\n              ))}\n            </ul>\n          </div>\n        )}\n\n        <div ref={bottomRef} />\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"flex flex-col h-full w-full max-w-full bg-user-bg text-user-text\">\n      {/* Header */}\n      <div className=\"px-2 sm:px-4 md:px-6 py-4 border-b bg-user-bg shadow-sm flex items-center justify-between\">\n        <div className=\"flex items-center gap-4\">\n          <Button\n            variant=\"ghost\"\n            size=\"sm\"\n            onClick={() => toast.info(\"Chat history toggled\")}\n            className=\"flex items-center gap-2\"\n          >\n            <FolderOpen className=\"w-5 h-5\" />\n            History\n          </Button>\n          <h2 className=\"text-xl font-semibold text-user-text truncate max-w-xs\">\n            {activeChat?.name || \"AI Assistant\"}\n          </h2>\n          <Button\n            variant=\"ghost\"\n            size=\"sm\"\n            onClick={handleNewChat}\n            className=\"flex items-center gap-2\"\n          >\n            <Plus className=\"w-5 h-5\" />\n            New Chat\n          </Button>\n        </div>\n\n        <div className=\"flex items-center gap-3\">\n          {renderActiveAgents()}\n\n          <DropdownMenu>\n            <DropdownMenuTrigger asChild>\n              <Button variant=\"ghost\" size=\"sm\" className=\"h-8 w-8 p-0\">\n                <MoreVertical className=\"h-5 w-5\" />\n              </Button>\n            </DropdownMenuTrigger>\n            <DropdownMenuContent align=\"end\">\n              <DropdownMenuItem\n                onClick={handleNewChat}\n                className=\"flex items-center gap-2\"\n              >\n                <Plus className=\"w-4 h-4\" />\n                New Chat\n              </DropdownMenuItem>\n              <DropdownMenuSeparator />\n              <DropdownMenuItem\n                onClick={handleClearChat}\n                className=\"text-red-500 flex items-center gap-2\"\n              >\n                <Trash2 className=\"w-4 h-4\" />\n                Clear Chat\n              </DropdownMenuItem>\n            </DropdownMenuContent>\n          </DropdownMenu>\n        </div>\n\n        <span className=\"text-sm text-user-text opacity-60 font-medium\">\n          Agent:\n        </span>\n        {renderAgentDropdown()}\n      </div>\n\n      {/* Messages Area */}\n      <ScrollArea className=\"flex-1 px-2 sm:px-4 md:px-6 py-4 overflow-y-auto w-full max-w-full\">\n        {renderMessages()}\n      </ScrollArea>\n\n      {/* Input Area */}\n      <div className=\"border-t bg-user-bg px-2 sm:px-4 md:px-6 py-4 shadow-inner w-full max-w-full\">\n        <div className=\"flex items-end gap-4\">\n          <Textarea\n            rows={2}\n            value={inputValue}\n            onChange={(e) => setInputValue(e.target.value)}\n            onKeyDown={handleKeyDown}\n            placeholder=\"Type your message...\"\n            className=\"flex-1 resize-none bg-code-bg rounded-lg px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-user-text shadow-sm placeholder:text-muted-foreground text-black\"\n            spellCheck={false}\n          />\n          <Button\n            size=\"icon\"\n            className=\"text-user-text rounded-full shadow-md hover:bg-user-bg transition\"\n            onClick={streaming ? handleSendMessageStream : handleSendMessage}\n            disabled={isTyping || isStreaming}\n            aria-label=\"Send Message\"\n          >\n            <Send className=\"w-5 h-5\" />\n          </Button>\n          <Button\n            size=\"sm\"\n            className=\"bg-code-bg text-code-text px-5 py-2 rounded-md shadow hover:bg-code-bg\"\n            onClick={handleWorkflow}\n            disabled={isTyping || isStreaming}\n          >\n            Run Workflow\n          </Button>\n          <Button\n            variant={streaming ? \"default\" : \"outline\"}\n            size=\"sm\"\n            className=\"ml-2 text-sm px-3 py-1.5 rounded bg-code-bg text-code-text border border-user-text\"\n            onClick={toggleStreaming}\n            aria-label=\"Toggle Streaming Mode\"\n          >\n            {streaming ? \"Streaming\" : \"Standard\"}\n          </Button>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3174, "column": 0}, "map": {"version":3,"sources":["file:///Users/aziz/Downloads/same-dev-platform%203/client/src/components/ui/tooltip.tsx"],"sourcesContent":["\"use client\";\n\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\";\nimport * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst TooltipProvider = TooltipPrimitive.Provider;\n\nconst Tooltip = TooltipPrimitive.Root;\n\nconst TooltipTrigger = TooltipPrimitive.Trigger;\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Portal>\n    <TooltipPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]\",\n        className,\n      )}\n      {...props}\n    />\n  </TooltipPrimitive.Portal>\n));\nTooltipContent.displayName = TooltipPrimitive.Content.displayName;\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider };\n"],"names":[],"mappings":";;;;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,kBAAkB,mKAAA,CAAA,WAAyB;AAEjD,MAAM,UAAU,mKAAA,CAAA,OAAqB;AAErC,MAAM,iBAAiB,mKAAA,CAAA,UAAwB;AAE/C,MAAM,+BAAiB,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGpC,CAAC,EAAE,SAAS,EAAE,aAAa,CAAC,EAAE,GAAG,OAAO,EAAE,oBAC1C,gMAAC,mKAAA,CAAA,SAAuB;kBACtB,cAAA,gMAAC,mKAAA,CAAA,UAAwB;YACvB,KAAK;YACL,YAAY;YACZ,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,uaACA;YAED,GAAG,KAAK;;;;;;;;;;;AAIf,eAAe,WAAW,GAAG,mKAAA,CAAA,UAAwB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 3217, "column": 0}, "map": {"version":3,"sources":["file:///Users/aziz/Downloads/same-dev-platform%203/client/src/components/Layout/Header.tsx"],"sourcesContent":["\"use client\";\n\nimport { Badge } from \"@/components/ui/badge\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\";\nimport { useProjectStore } from \"@/store/useProjectStore\";\nimport * as Dialog from \"@radix-ui/react-dialog\";\nimport {\n  Download,\n  FolderTree,\n  Github,\n  Moon,\n  Play,\n  Settings,\n  Square,\n  Sun,\n} from \"lucide-react\";\nimport { useRef, useState } from \"react\";\nimport { apiRequest } from \"@/lib/api\";\n\nexport function Header() {\n  const {\n    project,\n    theme,\n    toggleTheme,\n    toggleFileTree,\n    isFileTreeCollapsed,\n    createNewProject,\n  } = useProjectStore();\n  const [settingsOpen, setSettingsOpen] = useState(false);\n\n  const downloadZip = async () => {\n    if (!project?.id) return;\n    const token = localStorage.getItem(\"token\");\n    const res = await fetch(\n      `${\n        process.env.NEXT_PUBLIC_API_URL || \"http://localhost:4000\"\n      }/api/projects/${project.id}/download`,\n      {\n        method: \"GET\",\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      }\n    );\n    if (!res.ok) return;\n    const blob = await res.blob();\n    const url = window.URL.createObjectURL(blob);\n    const a = document.createElement(\"a\");\n    a.href = url;\n    a.download = `${project.name || \"project\"}.zip`;\n    document.body.appendChild(a);\n    a.click();\n    a.remove();\n    window.URL.revokeObjectURL(url);\n  };\n\n  // New Project button handler\n  const handleNewProject = async () => {\n    const name = prompt(\"Enter project name:\", \"Untitled Project\");\n    if (!name) return;\n    await createNewProject(name);\n  };\n\n  return (\n    <TooltipProvider>\n      <header className=\"h-14 border-b bg-user-bg text-user-text shadow\">\n        <div className=\"flex h-full items-center justify-between px-4\">\n          {/* Left Section - Logo & Project Info */}\n          <div className=\"flex items-center gap-4\">\n            <div className=\"flex items-center gap-2\">\n              <div className=\"h-8 w-8 rounded-lg bg-user-bg flex items-center justify-center shadow\">\n                <span className=\"text-user-text font-bold text-sm\">M</span>\n              </div>\n              <h1 className=\"text-lg font-semibold text-user-text\">\n                MultiMind\n              </h1>\n            </div>\n\n            <div className=\"hidden md:flex items-center gap-2\">\n              <span className=\"text-sm text-muted-foreground\">|</span>\n\n              <Badge variant=\"secondary\" className=\"text-xs\">\n                {project?.framework}\n              </Badge>\n              <Badge\n                variant={\n                  project?.status === \"idle\"\n                    ? \"default\"\n                    : project?.status === \"generating\"\n                    ? \"secondary\"\n                    : project?.status === \"building\"\n                    ? \"secondary\"\n                    : \"destructive\"\n                }\n                className=\"text-xs\"\n              >\n                {project?.status}\n              </Badge>\n            </div>\n          </div>\n\n          {/* Right Section - Controls */}\n          <div className=\"flex items-center gap-2\">\n            {/* File Tree Toggle */}\n            <Tooltip>\n              <TooltipTrigger asChild>\n                <Button\n                  variant=\"ghost\"\n                  size=\"sm\"\n                  onClick={toggleFileTree}\n                  className=\"h-8 w-8 p-0\"\n                >\n                  <FolderTree className=\"h-4 w-4\" />\n                </Button>\n              </TooltipTrigger>\n              <TooltipContent>\n                <p>{isFileTreeCollapsed ? \"Show\" : \"Hide\"} File Tree</p>\n              </TooltipContent>\n            </Tooltip>\n\n            {/* Project Controls */}\n            <div className=\"hidden md:flex items-center gap-1\">\n              <Tooltip>\n                <TooltipTrigger asChild>\n                  <Button variant=\"ghost\" size=\"sm\" className=\"h-8 w-8 p-0\">\n                    <Play className=\"h-4 w-4\" />\n                  </Button>\n                </TooltipTrigger>\n                <TooltipContent>\n                  <p>Start Development Server</p>\n                </TooltipContent>\n              </Tooltip>\n\n              <Tooltip>\n                <TooltipTrigger asChild>\n                  <Button variant=\"ghost\" size=\"sm\" className=\"h-8 w-8 p-0\">\n                    <Square className=\"h-4 w-4\" />\n                  </Button>\n                </TooltipTrigger>\n                <TooltipContent>\n                  <p>Stop Development Server</p>\n                </TooltipContent>\n              </Tooltip>\n            </div>\n\n            {/* Export Menu */}\n            <DropdownMenu>\n              <DropdownMenuTrigger asChild>\n                <Button variant=\"ghost\" size=\"sm\" className=\"h-8 w-8 p-0\">\n                  <Download className=\"h-4 w-4\" />\n                </Button>\n              </DropdownMenuTrigger>\n              <DropdownMenuContent align=\"end\">\n                <DropdownMenuItem onClick={downloadZip}>\n                  <Download className=\"mr-2 h-4 w-4\" />\n                  Download ZIP\n                </DropdownMenuItem>\n                <DropdownMenuItem>\n                  <Github className=\"mr-2 h-4 w-4\" />\n                  Export to GitHub\n                </DropdownMenuItem>\n              </DropdownMenuContent>\n            </DropdownMenu>\n\n            {/* Settings */}\n            <Tooltip>\n              <TooltipTrigger asChild>\n                <Button\n                  variant=\"ghost\"\n                  size=\"sm\"\n                  className=\"h-8 w-8 p-0\"\n                  onClick={() => setSettingsOpen(true)}\n                >\n                  <Settings className=\"h-4 w-4\" />\n                </Button>\n              </TooltipTrigger>\n              <TooltipContent>\n                <p>Settings</p>\n              </TooltipContent>\n            </Tooltip>\n\n            {/* Theme Toggle */}\n            <Tooltip>\n              <TooltipTrigger asChild>\n                <Button\n                  variant=\"ghost\"\n                  size=\"sm\"\n                  onClick={toggleTheme}\n                  className=\"h-8 w-8 p-0\"\n                >\n                  {theme === \"light\" ? (\n                    <Moon className=\"h-4 w-4\" />\n                  ) : (\n                    <Sun className=\"h-4 w-4\" />\n                  )}\n                </Button>\n              </TooltipTrigger>\n              <TooltipContent>\n                <p>Toggle {theme === \"light\" ? \"dark\" : \"light\"} mode</p>\n              </TooltipContent>\n            </Tooltip>\n\n            {/* New Project Button */}\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              onClick={handleNewProject}\n              className=\"ml-2\"\n            >\n              New Project\n            </Button>\n          </div>\n        </div>\n      </header>\n      {/* Settings Modal */}\n      <Dialog.Root open={settingsOpen} onOpenChange={setSettingsOpen}>\n        <Dialog.Portal>\n          <Dialog.Overlay className=\"fixed inset-0 bg-black/40 z-40\" />\n          <Dialog.Content className=\"fixed left-1/2 top-1/2 z-50 w-full max-w-md -translate-x-1/2 -translate-y-1/2 rounded-lg bg-user-bg dark:bg-zinc-900 p-6 shadow-lg\">\n            <Dialog.Title className=\"text-lg font-semibold mb-4\">\n              Settings\n            </Dialog.Title>\n            <div className=\"space-y-4\">\n              <div className=\"flex items-center justify-between\">\n                <span>Theme</span>\n                <Button onClick={toggleTheme} variant=\"outline\">\n                  {theme === \"light\" ? \"Switch to Dark\" : \"Switch to Light\"}\n                </Button>\n              </div>\n              <div className=\"flex items-center justify-between\">\n                <span>Font Size</span>\n                <span className=\"text-muted-foreground\">(Coming soon)</span>\n              </div>\n            </div>\n            <div className=\"flex justify-end mt-6\">\n              <Button\n                onClick={() => setSettingsOpen(false)}\n                variant=\"secondary\"\n              >\n                Close\n              </Button>\n            </div>\n          </Dialog.Content>\n        </Dialog.Portal>\n      </Dialog.Root>\n    </TooltipProvider>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3835, "column": 0}, "map": {"version":3,"sources":["file:///Users/aziz/Downloads/same-dev-platform%203/client/src/components/ui/tabs.tsx"],"sourcesContent":["\"use client\";\n\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\";\nimport * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Tabs = TabsPrimitive.Root;\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground\",\n      className,\n    )}\n    {...props}\n  />\n));\nTabsList.displayName = TabsPrimitive.List.displayName;\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow\",\n      className,\n    )}\n    {...props}\n  />\n));\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName;\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className,\n    )}\n    {...props}\n  />\n));\nTabsContent.displayName = TabsPrimitive.Content.displayName;\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent };\n"],"names":[],"mappings":";;;;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,OAAO,gKAAA,CAAA,OAAkB;AAE/B,MAAM,yBAAW,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAG9B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,gMAAC,gKAAA,CAAA,OAAkB;QACjB,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,6FACA;QAED,GAAG,KAAK;;;;;;AAGb,SAAS,WAAW,GAAG,gKAAA,CAAA,OAAkB,CAAC,WAAW;AAErD,MAAM,4BAAc,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,gMAAC,gKAAA,CAAA,UAAqB;QACpB,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,kYACA;QAED,GAAG,KAAK;;;;;;AAGb,YAAY,WAAW,GAAG,gKAAA,CAAA,UAAqB,CAAC,WAAW;AAE3D,MAAM,4BAAc,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,gMAAC,gKAAA,CAAA,UAAqB;QACpB,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,mIACA;QAED,GAAG,KAAK;;;;;;AAGb,YAAY,WAAW,GAAG,gKAAA,CAAA,UAAqB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 3889, "column": 0}, "map": {"version":3,"sources":["file:///Users/aziz/Downloads/same-dev-platform%203/client/src/components/Layout/RightPanel.tsx"],"sourcesContent":["\"use client\";\n\nimport dynamic from \"next/dynamic\";\nimport { Spinner } from \"@/components/ui/spinner\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { useProjectStore } from \"@/store/useProjectStore\";\n\nconst CodeEditor = dynamic(\n  () => import(\"@/components/Editor/CodeEditor\").then((mod) => mod.CodeEditor),\n  {\n    ssr: false,\n    loading: () => (\n      <div className=\"h-full flex items-center justify-center\">\n        <Spinner size={32} />\n      </div>\n    ),\n  }\n);\nconst PreviewPane = dynamic(\n  () =>\n    import(\"@/components/Preview/PreviewPane\").then((mod) => mod.PreviewPane),\n  {\n    ssr: false,\n    loading: () => (\n      <div className=\"h-full flex items-center justify-center\">\n        <Spinner size={32} />\n      </div>\n    ),\n  }\n);\nconst TerminalWindow = dynamic(\n  () =>\n    import(\"@/components/Terminal/TerminalWindow\").then(\n      (mod) => mod.TerminalWindow\n    ),\n  {\n    ssr: false,\n    loading: () => (\n      <div className=\"h-full flex items-center justify-center\">\n        <Spinner size={32} />\n      </div>\n    ),\n  }\n);\n\nexport function RightPanel() {\n  const { rightPanelMode, setRightPanelMode } = useProjectStore();\n\n  return (\n    <div className=\"flex flex-col h-full\">\n      <Tabs\n        value={rightPanelMode}\n        onValueChange={(value) =>\n          setRightPanelMode(value as \"app\" | \"coder\" | \"terminal\")\n        }\n        className=\"flex flex-col h-full\"\n      >\n        <TabsList className=\"w-full justify-start rounded-none border-b bg-transparent h-12 p-0\">\n          <TabsTrigger\n            value=\"app\"\n            className=\"rounded-none border-b-2 border-transparent data-[state=active]:border-primary data-[state=active]:bg-transparent\"\n          >\n            App Preview\n          </TabsTrigger>\n          <TabsTrigger\n            value=\"coder\"\n            className=\"rounded-none border-b-2 border-transparent data-[state=active]:border-primary data-[state=active]:bg-transparent\"\n          >\n            Code Editor\n          </TabsTrigger>\n          <TabsTrigger\n            value=\"terminal\"\n            className=\"rounded-none border-b-2 border-transparent data-[state=active]:border-primary data-[state=active]:bg-transparent\"\n          >\n            Terminal\n          </TabsTrigger>\n        </TabsList>\n\n        <div className=\"flex-1 min-h-0 overflow-hidden\">\n          <TabsContent\n            value=\"app\"\n            className=\"h-full m-0 data-[state=inactive]:hidden overflow-hidden\"\n          >\n            <PreviewPane />\n          </TabsContent>\n\n          <TabsContent\n            value=\"coder\"\n            className=\"h-full m-0 data-[state=inactive]:hidden overflow-hidden\"\n          >\n            <CodeEditor />\n          </TabsContent>\n\n          <TabsContent\n            value=\"terminal\"\n            className=\"h-full m-0 data-[state=inactive]:hidden overflow-hidden\"\n          >\n            <TerminalWindow />\n          </TabsContent>\n        </div>\n      </Tabs>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;;;;AALA;;;;;;AAOA,MAAM,aAAa,CAAA,GAAA,+JAAA,CAAA,UAAO,AAAD;;;;;;IAGrB,KAAK;IACL,SAAS,kBACP,gMAAC;YAAI,WAAU;sBACb,cAAA,gMAAC,mIAAA,CAAA,UAAO;gBAAC,MAAM;;;;;;;;;;;;AAKvB,MAAM,cAAc,CAAA,GAAA,+JAAA,CAAA,UAAO,AAAD;;;;;;IAItB,KAAK;IACL,SAAS,kBACP,gMAAC;YAAI,WAAU;sBACb,cAAA,gMAAC,mIAAA,CAAA,UAAO;gBAAC,MAAM;;;;;;;;;;;;AAKvB,MAAM,iBAAiB,CAAA,GAAA,+JAAA,CAAA,UAAO,AAAD;;;;;;IAMzB,KAAK;IACL,SAAS,kBACP,gMAAC;YAAI,WAAU;sBACb,cAAA,gMAAC,mIAAA,CAAA,UAAO;gBAAC,MAAM;;;;;;;;;;;;AAMhB,SAAS;IACd,MAAM,EAAE,cAAc,EAAE,iBAAiB,EAAE,GAAG,CAAA,GAAA,+HAAA,CAAA,kBAAe,AAAD;IAE5D,qBACE,gMAAC;QAAI,WAAU;kBACb,cAAA,gMAAC,gIAAA,CAAA,OAAI;YACH,OAAO;YACP,eAAe,CAAC,QACd,kBAAkB;YAEpB,WAAU;;8BAEV,gMAAC,gIAAA,CAAA,WAAQ;oBAAC,WAAU;;sCAClB,gMAAC,gIAAA,CAAA,cAAW;4BACV,OAAM;4BACN,WAAU;sCACX;;;;;;sCAGD,gMAAC,gIAAA,CAAA,cAAW;4BACV,OAAM;4BACN,WAAU;sCACX;;;;;;sCAGD,gMAAC,gIAAA,CAAA,cAAW;4BACV,OAAM;4BACN,WAAU;sCACX;;;;;;;;;;;;8BAKH,gMAAC;oBAAI,WAAU;;sCACb,gMAAC,gIAAA,CAAA,cAAW;4BACV,OAAM;4BACN,WAAU;sCAEV,cAAA,gMAAC;;;;;;;;;;sCAGH,gMAAC,gIAAA,CAAA,cAAW;4BACV,OAAM;4BACN,WAAU;sCAEV,cAAA,gMAAC;;;;;;;;;;sCAGH,gMAAC,gIAAA,CAAA,cAAW;4BACV,OAAM;4BACN,WAAU;sCAEV,cAAA,gMAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMb","debugId":null}},
    {"offset": {"line": 4084, "column": 0}, "map": {"version":3,"sources":["file:///Users/aziz/Downloads/same-dev-platform%203/client/src/components/Sidebar/FileTreeSidebar.tsx"],"sourcesContent":["\"use client\";\n\nimport { Button } from \"@/components/ui/button\";\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\nimport { Spinner } from \"@/components/ui/spinner\";\nimport { useProjectStore } from \"@/store/useProjectStore\";\nimport type { FileNode } from \"@/types\";\nimport {\n  ChevronDown,\n  ChevronRight,\n  File,\n  Folder,\n  FolderOpen,\n} from \"lucide-react\";\nimport { useMemo } from \"react\";\n\n// Sample file tree data\nconst sampleFileTree: FileNode[] = [\n  {\n    id: \"1\",\n    name: \"src\",\n    type: \"folder\",\n    path: \"src\",\n    isOpen: true,\n    children: [\n      {\n        id: \"2\",\n        name: \"index.tsx\",\n        type: \"file\",\n        path: \"src/index.tsx\",\n        content: \"console.log('Hello, world!');\",\n      },\n      {\n        id: \"3\",\n        name: \"components\",\n        type: \"folder\",\n        path: \"src/components\",\n        isOpen: false,\n        children: [\n          {\n            id: \"4\",\n            name: \"Button.tsx\",\n            type: \"file\",\n            path: \"src/components/Button.tsx\",\n            content: \"export const Button = () => <button>Click</button>;\",\n          },\n        ],\n      },\n    ],\n  },\n  {\n    id: \"5\",\n    name: \"README.md\",\n    type: \"file\",\n    path: \"README.md\",\n    content: \"# Project README\",\n  },\n];\n\nexport function FileTreeSidebar() {\n  const { fileTree, openFile, setRightPanelMode } = useProjectStore();\n  // Use sample data if fileTree is empty\n  const displayFileTree = useMemo(\n    () => (fileTree.length === 0 ? sampleFileTree : fileTree),\n    [fileTree]\n  );\n\n  const handleFileClick = (file: FileNode) => {\n    if (file.type === \"file\") {\n      openFile(file);\n      // Automatically switch to code editor when a file is opened\n      setRightPanelMode(\"coder\");\n    }\n  };\n\n  const handleFolderToggle = (folderId: string) => {\n    const updateTree = (nodes: FileNode[]): FileNode[] =>\n      nodes.map((node) => {\n        if (node.id === folderId && node.type === \"folder\") {\n          return { ...node, isOpen: !node.isOpen };\n        }\n        if (node.type === \"folder\" && node.children) {\n          return { ...node, children: updateTree(node.children) };\n        }\n        return node;\n      });\n\n    // Update either fileTree or sampleFileTree\n    if (fileTree.length === 0) {\n      // Update sampleFileTree locally (no state update)\n      // No-op: sampleFileTree is static for demo\n    } else {\n      const updatedTree = updateTree(fileTree);\n      useProjectStore.setState({ fileTree: updatedTree });\n    }\n  };\n\n  const FileTreeNode = ({\n    node,\n    level = 0,\n  }: {\n    node: FileNode;\n    level?: number;\n  }) => {\n    const isFolder = node.type === \"folder\";\n    const paddingLeft = level * 16 + 8;\n\n    return (\n      <div>\n        <Button\n          variant=\"ghost\"\n          className=\"w-full justify-start h-8 px-2 font-normal hover:bg-muted/50\"\n          style={{ paddingLeft }}\n          onClick={() =>\n            isFolder ? handleFolderToggle(node.id) : handleFileClick(node)\n          }\n        >\n          <div className=\"flex items-center gap-2 min-w-0\">\n            {isFolder ? (\n              <>\n                {node.isOpen ? (\n                  <ChevronDown className=\"h-4 w-4 flex-shrink-0\" />\n                ) : (\n                  <ChevronRight className=\"h-4 w-4 flex-shrink-0\" />\n                )}\n                {node.isOpen ? (\n                  <FolderOpen className=\"h-4 w-4 flex-shrink-0 text-blue-500\" />\n                ) : (\n                  <Folder className=\"h-4 w-4 flex-shrink-0 text-blue-500\" />\n                )}\n              </>\n            ) : (\n              <>\n                <div className=\"w-4\" />\n                <File className=\"h-4 w-4 flex-shrink-0 text-muted-foreground\" />\n              </>\n            )}\n            <span className=\"truncate text-sm\">{node.name}</span>\n          </div>\n        </Button>\n\n        {isFolder && node.isOpen && node.children && (\n          <div>\n            {node.children.map((child) => (\n              <FileTreeNode key={child.id} node={child} level={level + 1} />\n            ))}\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"flex flex-col h-full bg-user-bg text-stone-300 shadow\">\n      {/* Header */}\n      <div className=\"p-4 border-b bg-user-bg\">\n        <h3 className=\"font-semibold text-sm\">File Explorer</h3>\n        <p className=\"text-xs text-muted-foreground mt-1\">\n          Click files to open in editor\n        </p>\n      </div>\n\n      {/* File Tree */}\n      <ScrollArea className=\"flex-1\">\n        <div className=\"p-2\">\n          {displayFileTree.length === 0 ? (\n            <div className=\"flex items-center justify-center h-32\">\n              <Spinner size={28} />\n            </div>\n          ) : (\n            displayFileTree.map((node) => (\n              <FileTreeNode key={node.id} node={node} />\n            ))\n          )}\n        </div>\n      </ScrollArea>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4367, "column": 0}, "map": {"version":3,"sources":["file:///Users/aziz/Downloads/same-dev-platform%203/client/src/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { ChatHistory } from \"@/components/Chat/ChatHistory\";\nimport { ChatInterface } from \"@/components/Chat/ChatInterface\";\nimport { Header } from \"@/components/Layout/Header\";\nimport { RightPanel } from \"@/components/Layout/RightPanel\";\nimport { FileTreeSidebar } from \"@/components/Sidebar/FileTreeSidebar\";\nimport { useProjectStore } from \"@/store/useProjectStore\";\nimport { useState, useEffect } from \"react\";\nimport { Panel, PanelGroup, PanelResizeHandle } from \"react-resizable-panels\";\n\nexport default function HomePage() {\n  const { isFileTreeCollapsed, isChatHistoryOpen, toggleChatHistory } =\n    useProjectStore();\n  const { loadProject, loadChatSessions, project, chatSessions, activeChatId } =\n    useProjectStore();\n\n  useEffect(() => {\n    // Only run on first mount\n    async function init() {\n      const projects = await useProjectStore.getState().fetchProjects();\n      if (projects.length > 0) {\n        await loadProject(projects[0].id);\n        await loadChatSessions(projects[0].id);\n      }\n    }\n    if (!project || !activeChatId) {\n      init();\n    }\n  }, [loadProject, loadChatSessions, project, activeChatId]);\n\n  // Calculate dynamic panel sizes that always add up to 100%\n  const chatHistorySize = isChatHistoryOpen ? 20 : 0;\n  const fileTreeSize = !isFileTreeCollapsed ? 15 : 0;\n  const chatInterfaceSize = 30;\n  const rightPanelSize =\n    100 - chatHistorySize - fileTreeSize - chatInterfaceSize;\n\n  return (\n    <div className=\"flex flex-col h-screen bg-background\">\n      <Header />\n\n      <div className=\"flex-1 overflow-hidden\">\n        <PanelGroup direction=\"horizontal\">\n          {/* Chat History Sidebar */}\n          {isChatHistoryOpen && (\n            <>\n              <Panel\n                id=\"chatHistory\"\n                defaultSize={chatHistorySize}\n                minSize={10}\n              >\n                <div className=\"h-full border-r bg-card overflow-x-auto min-w-0\">\n                  <ChatHistory\n                    isOpen={isChatHistoryOpen}\n                    onClose={toggleChatHistory}\n                  />\n                </div>\n              </Panel>\n              <PanelResizeHandle className=\"w-1 bg-border cursor-col-resize\" />\n            </>\n          )}\n\n          {/* Chat Interface */}\n          <Panel\n            id=\"chatInterface\"\n            defaultSize={chatInterfaceSize}\n            minSize={20}\n          >\n            <div className=\"h-full border-r bg-card overflow-x-auto min-w-0\">\n              <ChatInterface />\n            </div>\n          </Panel>\n          <PanelResizeHandle className=\"w-1 bg-border cursor-col-resize\" />\n\n          {/* File Tree Sidebar */}\n          {!isFileTreeCollapsed && (\n            <>\n              <Panel id=\"fileTree\" defaultSize={fileTreeSize} minSize={10}>\n                <div className=\"h-full border-r bg-card overflow-x-auto min-w-0\">\n                  <FileTreeSidebar />\n                </div>\n              </Panel>\n              <PanelResizeHandle className=\"w-1 bg-border cursor-col-resize\" />\n            </>\n          )}\n\n          {/* Right Panel */}\n          <Panel id=\"rightPanel\" defaultSize={rightPanelSize} minSize={20}>\n            <div className=\"h-full bg-background overflow-x-auto min-w-0\">\n              <RightPanel />\n            </div>\n          </Panel>\n        </PanelGroup>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;;;;;;;;;;AAWe,SAAS;IACtB,MAAM,EAAE,mBAAmB,EAAE,iBAAiB,EAAE,iBAAiB,EAAE,GACjE,CAAA,GAAA,+HAAA,CAAA,kBAAe,AAAD;IAChB,MAAM,EAAE,WAAW,EAAE,gBAAgB,EAAE,OAAO,EAAE,YAAY,EAAE,YAAY,EAAE,GAC1E,CAAA,GAAA,+HAAA,CAAA,kBAAe,AAAD;IAEhB,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,0BAA0B;QAC1B,eAAe;YACb,MAAM,WAAW,MAAM,+HAAA,CAAA,kBAAe,CAAC,QAAQ,GAAG,aAAa;YAC/D,IAAI,SAAS,MAAM,GAAG,GAAG;gBACvB,MAAM,YAAY,QAAQ,CAAC,EAAE,CAAC,EAAE;gBAChC,MAAM,iBAAiB,QAAQ,CAAC,EAAE,CAAC,EAAE;YACvC;QACF;QACA,IAAI,CAAC,WAAW,CAAC,cAAc;YAC7B;QACF;IACF,GAAG;QAAC;QAAa;QAAkB;QAAS;KAAa;IAEzD,2DAA2D;IAC3D,MAAM,kBAAkB,oBAAoB,KAAK;IACjD,MAAM,eAAe,CAAC,sBAAsB,KAAK;IACjD,MAAM,oBAAoB;IAC1B,MAAM,iBACJ,MAAM,kBAAkB,eAAe;IAEzC,qBACE,gMAAC;QAAI,WAAU;;0BACb,gMAAC,sIAAA,CAAA,SAAM;;;;;0BAEP,gMAAC;gBAAI,WAAU;0BACb,cAAA,gMAAC,oNAAA,CAAA,aAAU;oBAAC,WAAU;;wBAEnB,mCACC;;8CACE,gMAAC,oNAAA,CAAA,QAAK;oCACJ,IAAG;oCACH,aAAa;oCACb,SAAS;8CAET,cAAA,gMAAC;wCAAI,WAAU;kDACb,cAAA,gMAAC,yIAAA,CAAA,cAAW;4CACV,QAAQ;4CACR,SAAS;;;;;;;;;;;;;;;;8CAIf,gMAAC,oNAAA,CAAA,oBAAiB;oCAAC,WAAU;;;;;;;;sCAKjC,gMAAC,oNAAA,CAAA,QAAK;4BACJ,IAAG;4BACH,aAAa;4BACb,SAAS;sCAET,cAAA,gMAAC;gCAAI,WAAU;0CACb,cAAA,gMAAC,2IAAA,CAAA,gBAAa;;;;;;;;;;;;;;;sCAGlB,gMAAC,oNAAA,CAAA,oBAAiB;4BAAC,WAAU;;;;;;wBAG5B,CAAC,qCACA;;8CACE,gMAAC,oNAAA,CAAA,QAAK;oCAAC,IAAG;oCAAW,aAAa;oCAAc,SAAS;8CACvD,cAAA,gMAAC;wCAAI,WAAU;kDACb,cAAA,gMAAC,gJAAA,CAAA,kBAAe;;;;;;;;;;;;;;;8CAGpB,gMAAC,oNAAA,CAAA,oBAAiB;oCAAC,WAAU;;;;;;;;sCAKjC,gMAAC,oNAAA,CAAA,QAAK;4BAAC,IAAG;4BAAa,aAAa;4BAAgB,SAAS;sCAC3D,cAAA,gMAAC;gCAAI,WAAU;0CACb,cAAA,gMAAC,0IAAA,CAAA,aAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOzB","debugId":null}}]
}